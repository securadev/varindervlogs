import{a as ve,b as Vt}from"./chunk-ALPS34IQ.js";import{a as Se,b as F,c as Wt,d as Te}from"./chunk-UGO3MURQ.js";import{a as $e,b as Ht}from"./chunk-RLKFHLXC.js";import{a as S}from"./chunk-PO5Q2ATW.js";import{c as Qt,d as $t,e as te,f as Gt}from"./chunk-OSMFLMKI.js";import{$ as c,Aa as u,Ba as g,Bb as ht,C as he,Ca as qe,Cb as A,D as be,Da as De,Db as d,Ea as Fe,Eb as T,F as Ee,Fa as de,Fb as V,Ga as kt,H as y,Ha as Q,Hb as zt,I as _e,Ia as B,Ib as Bt,J as Le,Ja as L,Jb as z,K as Et,Ka as K,La as n,Lb as $,Ma as _,Mb as Qe,N as wt,Na as Z,Nb as G,O as h,Oa as Nt,Ob as Lt,P as b,Pb as H,Q as Mt,Qa as je,Qb as W,Ra as ke,Rb as ye,Sa as Ne,Sb as I,Ta as ut,Tb as Rt,U as ue,Ub as qt,Wa as Ce,Xa as ee,Y as oe,Ya as R,Za as q,_a as Y,a as J,aa as p,ab as At,b as Pt,ca as It,da as x,eb as w,f as me,fb as ae,ga as Re,ha as f,ib as Tt,ja as we,jb as Ae,ka as Ot,mb as k,pb as pe,qa as i,ra as t,sa as m,ta as Dt,ua as Ft,ub as ft,va as v,wa as jt,wb as xe,yb as N,zb as M}from"./chunk-VTM3PV2E.js";function oi(l,r){if(l&1){let e=v();i(0,"a",12),u("keyup.enter",function(){h(e),g(3);let a=K(1);return b(a.previous())})("click",function(){h(e),g(3);let a=K(1);return b(a.previous())}),n(1),i(2,"span",13),n(3),t()()}if(l&2){let e=g(3);c(),Z(" ",e.previousLabel," "),c(2),_(e.screenReaderPageLabel)}}function ai(l,r){if(l&1&&(i(0,"span",14),n(1),i(2,"span",13),n(3),t()()),l&2){let e=g(3);c(),Z(" ",e.previousLabel," "),c(2),_(e.screenReaderPageLabel)}}function li(l,r){if(l&1&&(i(0,"li",9),x(1,oi,4,2,"a",10)(2,ai,4,2,"span",11),t()),l&2){g(2);let e=K(1);we("disabled",e.isFirstPage()),c(),f("ngIf",1<e.getCurrent()),c(),f("ngIf",e.isFirstPage())}}function si(l,r){if(l&1){let e=v();i(0,"a",12),u("keyup.enter",function(){h(e);let a=g().$implicit;g(2);let s=K(1);return b(s.setCurrent(a.value))})("click",function(){h(e);let a=g().$implicit;g(2);let s=K(1);return b(s.setCurrent(a.value))}),i(1,"span",13),n(2),t(),i(3,"span"),n(4),R(5,"number"),t()()}if(l&2){let e=g().$implicit,o=g(2);c(2),Z("",o.screenReaderPageLabel," "),c(2),_(e.label==="..."?e.label:q(5,2,e.label,""))}}function ci(l,r){if(l&1&&(Dt(0),i(1,"span",16)(2,"span",13),n(3),t(),i(4,"span"),n(5),R(6,"number"),t()(),Ft()),l&2){let e=g().$implicit,o=g(2);c(3),Z("",o.screenReaderCurrentLabel," "),c(2),_(e.label==="..."?e.label:q(6,2,e.label,""))}}function mi(l,r){if(l&1&&(i(0,"li"),x(1,si,6,5,"a",10)(2,ci,7,5,"ng-container",15),t()),l&2){let e=r.$implicit;g(2);let o=K(1);we("current",o.getCurrent()===e.value)("ellipsis",e.label==="..."),c(),f("ngIf",o.getCurrent()!==e.value),c(),f("ngIf",o.getCurrent()===e.value)}}function di(l,r){if(l&1){let e=v();i(0,"a",12),u("keyup.enter",function(){h(e),g(3);let a=K(1);return b(a.next())})("click",function(){h(e),g(3);let a=K(1);return b(a.next())}),n(1),i(2,"span",13),n(3),t()()}if(l&2){let e=g(3);c(),Z(" ",e.nextLabel," "),c(2),_(e.screenReaderPageLabel)}}function pi(l,r){if(l&1&&(i(0,"span",14),n(1),i(2,"span",13),n(3),t()()),l&2){let e=g(3);c(),Z(" ",e.nextLabel," "),c(2),_(e.screenReaderPageLabel)}}function gi(l,r){if(l&1&&(i(0,"li",17),x(1,di,4,2,"a",10)(2,pi,4,2,"span",11),t()),l&2){g(2);let e=K(1);we("disabled",e.isLastPage()),c(),f("ngIf",!e.isLastPage()),c(),f("ngIf",e.isLastPage())}}function ui(l,r){if(l&1&&(i(0,"ul",4),x(1,li,3,4,"li",5),i(2,"li",6),n(3),t(),x(4,mi,3,6,"li",7)(5,gi,3,4,"li",8),t()),l&2){let e=g(),o=K(1);we("responsive",e.responsive),c(),f("ngIf",e.directionLinks),c(2),Nt(" ",o.getCurrent()," / ",o.getLastPage()," "),c(),f("ngForOf",o.pages)("ngForTrackBy",e.trackByIndex),c(),f("ngIf",e.directionLinks)}}var Be=class{constructor(){this.change=new ue,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(r){return r.id==null&&(r.id=this.DEFAULT_ID),this.instances[r.id]?this.updateInstance(r):(this.instances[r.id]=r,!0)}updateInstance(r){let e=!1;for(let o in this.instances[r.id])r[o]!==this.instances[r.id][o]&&(this.instances[r.id][o]=r[o],e=!0);return e}getCurrentPage(r){return this.instances[r]?this.instances[r].currentPage:1}setCurrentPage(r,e){if(this.instances[r]){let o=this.instances[r],a=Math.ceil(o.totalItems/o.itemsPerPage);e<=a&&1<=e&&(this.instances[r].currentPage=e,this.change.emit(r))}}setTotalItems(r,e){this.instances[r]&&0<=e&&(this.instances[r].totalItems=e,this.change.emit(r))}setItemsPerPage(r,e){this.instances[r]&&(this.instances[r].itemsPerPage=e,this.change.emit(r))}getInstance(r=this.DEFAULT_ID){return this.instances[r]?this.clone(this.instances[r]):{}}clone(r){var e={};for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o]);return e}},fi=Number.MAX_SAFE_INTEGER,ie=(()=>{class l{constructor(e){this.service=e,this.state={}}transform(e,o){if(!(e instanceof Array)){let ce=o.id||this.service.defaultId();return this.state[ce]?this.state[ce].slice:e}let a=o.totalItems&&o.totalItems!==e.length,s=this.createInstance(e,o),C=s.id,P,E,D=s.itemsPerPage,U=this.service.register(s);if(!a&&e instanceof Array){if(D=+D||fi,P=(s.currentPage-1)*D,E=P+D,this.stateIsIdentical(C,e,P,E))return this.state[C].slice;{let Ie=e.slice(P,E);return this.saveState(C,e,Ie,P,E),this.service.change.emit(C),Ie}}else return U&&this.service.change.emit(C),this.saveState(C,e,e,P,E),e}createInstance(e,o){return this.checkConfig(o),{id:o.id!=null?o.id:this.service.defaultId(),itemsPerPage:+o.itemsPerPage||0,currentPage:+o.currentPage||1,totalItems:+o.totalItems||e.length}}checkConfig(e){let a=["itemsPerPage","currentPage"].filter(s=>!(s in e));if(0<a.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${a.join(", ")}`)}saveState(e,o,a,s,C){this.state[e]={collection:o,size:o.length,slice:a,start:s,end:C}}stateIsIdentical(e,o,a,s){let C=this.state[e];return!C||!(C.size===o.length&&C.start===a&&C.end===s)?!1:C.slice.every((E,D)=>E===o[a+D])}}return l.\u0275fac=function(e){return new(e||l)(p(Be,16))},l.\u0275pipe=Et({name:"paginate",type:l,pure:!1}),l})();var hi=(()=>{class l{constructor(e,o){this.service=e,this.changeDetectorRef=o,this.maxSize=7,this.pageChange=new ue,this.pageBoundsCorrection=new ue,this.pages=[],this.changeSub=this.service.change.subscribe(a=>{this.id===a&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){this.id===void 0&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(e){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return this.getCurrent()===1}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(e){this.pageChange.emit(e)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){this.service.getInstance(this.id).id==null&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let e=this.service.getInstance(this.id),o=this.outOfBoundCorrection(e);o!==e.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(o),this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)}outOfBoundCorrection(e){let o=Math.ceil(e.totalItems/e.itemsPerPage);return o<e.currentPage&&0<o?o:e.currentPage<1?1:e.currentPage}createPageArray(e,o,a,s){s=+s;let C=[],P=Math.max(Math.ceil(a/o),1),E=Math.ceil(s/2),D=e<=E,U=P-E<e,ce=!D&&!U,Ie=s<P,Oe=1;for(;Oe<=P&&Oe<=s;){let gt,St=this.calculatePageNumber(Oe,e,s,P),ni=Oe===2&&(ce||U),ri=Oe===s-1&&(ce||D);Ie&&(ni||ri)?gt="...":gt=St,C.push({label:gt,value:St}),Oe++}return C}calculatePageNumber(e,o,a,s){let C=Math.ceil(a/2);return e===a?s:e===1?e:a<s?s-C<o?s-a+e:C<o?o-C+e:e:e}}return l.\u0275fac=function(e){return new(e||l)(p(Be),p(At))},l.\u0275dir=Le({type:l,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[wt]}),l})();function bt(l){return!!l&&l!=="false"}var ne=(()=>{class l{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new ue,this.pageBoundsCorrection=new ue,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(e){this._directionLinks=bt(e)}get autoHide(){return this._autoHide}set autoHide(e){this._autoHide=bt(e)}get responsive(){return this._responsive}set responsive(e){this._responsive=bt(e)}trackByIndex(e){return e}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=y({type:l,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[["p","paginationApi"],[3,"pageChange","pageBoundsCorrection","id","maxSize"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(e,o){if(e&1){let a=v();i(0,"pagination-template",1,0),u("pageChange",function(C){return h(a),b(o.pageChange.emit(C))})("pageBoundsCorrection",function(C){return h(a),b(o.pageBoundsCorrection.emit(C))}),i(2,"nav",2),x(3,ui,6,8,"ul",3),t()()}if(e&2){let a=K(1);f("id",o.id)("maxSize",o.maxSize),c(2),Re("aria-label",o.screenReaderPaginationLabel),c(),f("ngIf",!(o.autoHide&&a.pages.length<=1))}},dependencies:[hi,ae,w,Tt],styles:[`.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}
`],encapsulation:2,changeDetection:0}),l})(),Ut=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=_e({type:l}),l.\u0275inj=be({providers:[Be],imports:[[Ae]]}),l})();var ge=class l{constructor(r){this.http=r}get(r,e){return this.http.get(`${S.url}/${r}`,{params:e})}getById(r,e){return this.http.get(`${S.url}/${r}/${e}`)}post(r,e){return this.http.post(`${S.url}/${r}`,e)}put(r,e,o){return this.http.put(`${S.url}/${r}/${e}`,o)}delete(r,e){return this.http.delete(`${S.url}/${r}/${e}`)}static \u0275fac=function(e){return new(e||l)(Ee(pe))};static \u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})};var We=class l{constructor(r,e,o){this._projectService=r;this._apiService=e;this._contactService=o;this.fetchCounts()}totalProjects=0;totalQueries=0;totalBlogs=0;fetchCounts(){this.fetchTotalProjects(),this.fetchTotalQueries(),this.fetchTotalBlogs()}fetchTotalProjects(){this._projectService.get("projects",{}).subscribe(r=>{this.totalProjects=r.data?r.data.length:0,console.log("Total Projects:",this.totalProjects)})}fetchTotalQueries(){this._contactService.onContactGetAll().subscribe(r=>{this.totalQueries=r.length,console.log("Total Queries:",this.totalQueries)})}fetchTotalBlogs(){this._apiService.get("blogs",{}).subscribe(r=>{this.totalBlogs=r.length,console.log("Total Blogs:",this.totalBlogs)})}static \u0275fac=function(e){return new(e||l)(p(Se),p(ge),p($e))};static \u0275cmp=y({type:l,selectors:[["app-dashboard"]],decls:43,vars:3,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],[1,"page-title"],[1,"col-lg-3","col-6"],[1,"small-box","bg-primary"],[1,"inner"],[1,"text-center"],[1,"icon"],["src","","alt","",1,"ion"],["href","#",1,"small-box-footer"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),m(6,"div",6),i(7,"h4",7),n(8,"Dashboard"),t()()()(),i(9,"div",3)(10,"div",8)(11,"div",9)(12,"div",10)(13,"h3",11),n(14),t(),i(15,"p"),n(16,"\xA0"),t()(),i(17,"div",12),m(18,"img",13),t(),i(19,"span",14),n(20,"Total Projects"),t()()(),i(21,"div",8)(22,"div",9)(23,"div",10)(24,"h3",11),n(25),t(),i(26,"p"),n(27,"\xA0"),t()(),i(28,"div",12),m(29,"img",13),t(),i(30,"span",14),n(31,"Total Query"),t()()(),i(32,"div",8)(33,"div",9)(34,"div",10)(35,"h3",11),n(36),t(),i(37,"p"),n(38,"\xA0"),t()(),i(39,"div",12),m(40,"img",13),t(),i(41,"span",14),n(42,"Total Blogs"),t()()()()()()()),e&2&&(c(14),_(o.totalProjects),c(11),_(o.totalQueries),c(11),_(o.totalBlogs))},styles:[".stt[_ngcontent-%COMP%]   .bs-searchbox[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #525A65;height:40px}.stt.bootstrap-select[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{overflow-y:auto!important}table.dataTable.nowrap[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.dataTable.nowrap[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:normal!important}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle!important}.cursor[_ngcontent-%COMP%]{cursor:pointer}.error[_ngcontent-%COMP%]{color:red}.small-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{font-size:90px;position:absolute;right:15px;top:15px;height:70px;transition:all .3s linear}.small-box[_ngcontent-%COMP%] > .small-box-footer[_ngcontent-%COMP%]{background:#0000001a;color:#fffc;display:block;padding:3px 0;position:relative;text-align:center;text-decoration:none;z-index:10}.small-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:700;margin:0 0 10px;padding:0;white-space:nowrap}.small-box[_ngcontent-%COMP%] > .inner[_ngcontent-%COMP%]{padding:10px}.small-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#00000026;z-index:0}.small-box[_ngcontent-%COMP%]:hover{text-decoration:none}.small-box[_ngcontent-%COMP%]{border-radius:.25rem;box-shadow:0 0 1px #00000021,0 1px 3px #0003;display:block;margin-bottom:20px;position:relative}.project_images[_ngcontent-%COMP%]{width:100px;height:90px;margin-top:10px}.pro-user-name[_ngcontent-%COMP%]{display:none}.navbar-custom[_ngcontent-%COMP%]{background-color:#fff}.fe-menu[_ngcontent-%COMP%]{color:#000}.dropdown-toggle[_ngcontent-%COMP%]:after{color:#000}.menu-title[_ngcontent-%COMP%]{color:#000!important}#sidebar-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#0399fa;text-decoration:none}.active[_ngcontent-%COMP%]{color:#0399fa}#sidebar-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{color:#0399fa}.small-box[_ngcontent-%COMP%]{background-color:#0399fa!important}.small-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:3rem}#sidebar-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.05rem}.btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}"]})};var _i=["confirmDeleteModal"],Ci=(l,r)=>({itemsPerPage:l,currentPage:r}),xi=l=>["edit-project",l];function vi(l,r){if(l&1&&m(0,"img",31),l&2){let e=g().$implicit,o=g(2);f("src",o.env+"/file/download/"+e,oe)}}function yi(l,r){l&1&&x(0,vi,1,1,"ng-template",30)}function Si(l,r){if(l&1){let e=v();i(0,"div",32)(1,"h5",33),n(2,"Confirm Deletion"),t(),i(3,"button",34),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",35)(5,"p"),n(6,"Are you sure you want to delete this project? This action cannot be undone."),t()(),i(7,"div",36)(8,"button",37),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",38),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function Pi(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td",25),n(4),t(),i(5,"td",26)(6,"ngb-carousel"),x(7,yi,1,0,null,21),t()(),i(8,"td",25),n(9),t(),i(10,"td"),n(11),t(),i(12,"td"),n(13),t(),i(14,"td",20)(15,"a",27),n(16,"Edit"),t()(),i(17,"td",20)(18,"div",28)(19,"button",29),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),n(20,"Delete"),t(),x(21,Si,12,0,"ng-template",null,0,Y),t()()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.name),c(3),f("ngForOf",e.images),c(2),Z(" ",e.descriptions," "),c(2),_(e.created_at),c(2),_(e.updated_at),c(2),f("routerLink",Ce(7,xi,e._id))}}var Ue=class l{constructor(r,e,o,a){this._projectService=r;this.fb=e;this.modalService=o;this.fileServ=a;this.env=S.url,this.myForm=this.fb.group({name:["",d.required],descriptions:this.fb.array([]),images:this.fb.array([])})}p=1;itemsPerPage=10;env;selectedProject={};getData;myForm;projectToDeleteId=null;image=[];collection=[];confirmDeleteModal;ngOnInit(){this.fetchAllProjects()}fetchAllProjects(){this._projectService.get("projects",{}).subscribe(r=>{this.getData=r.data.map(e=>Pt(J({},e),{description:e.descriptions?.[0]||"No description available"})),console.log(this.getData)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editProjects(r,e){this.selectedProject=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-name"})}onDelete(r){this.projectToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-name"}).result.then(o=>{o==="Delete"&&this.projectToDeleteId&&this._projectService.delete("projects",this.projectToDeleteId).subscribe(()=>{this.fetchAllProjects()})})}confirmDelete(r){r.close("Delete")}handleFileInput(r){this.selectedProject.image=r.target.files[0]}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}uploadImage(r){this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(e=>{if(e.type===k.Response){let a=e.body.file.path;if(this.selectedProject.image=a,!this.selectedProject||!this.selectedProject._id){alert("No project selected or project ID is missing");return}this._projectService.put("projects",this.selectedProject._id,this.selectedProject).subscribe(()=>{this.fetchAllProjects(),r.close()})}},e=>{alert(`Error uploading image: ${e.message}`)}):alert("Please Select Image")}static \u0275fac=function(e){return new(e||l)(p(Se),p(I),p(te),p(F))};static \u0275cmp=y({type:l,selectors:[["app-projects"]],viewQuery:function(e,o){if(e&1&&Q(_i,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:51,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],["routerLink","add-project",1,"btn","btn-primary","btn-sm"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm","w-auto"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"text-truncate"],[2,"max-width","150px"],[1,"btn","btn-success","btn-sm",3,"routerLink"],[1,"d-flex","justify-content-center","gap-2","flex-nowrap"],[1,"btn","btn-danger","btn-sm",3,"click"],["ngbSlide",""],["alt","Project Image",1,"d-block","w-100","rounded-3",2,"height","100px","object-fit","cover",3,"src"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),n(6,"Project List"),t(),i(7,"a",7),n(8,"Add Project"),t()(),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),n(13," Show "),i(14,"select",12)(15,"option",13),n(16,"10"),t(),i(17,"option",14),n(18,"25"),t(),i(19,"option",15),n(20,"50"),t(),i(21,"option",16),n(22,"100"),t()(),n(23," entries "),t(),m(24,"input",17),t(),i(25,"table",18)(26,"thead",19)(27,"tr")(28,"th"),n(29,"S.no."),t(),i(30,"th"),n(31,"Project Name"),t(),i(32,"th"),n(33,"Project Image"),t(),i(34,"th"),n(35,"Description"),t(),i(36,"th"),n(37,"Created On"),t(),i(38,"th"),n(39,"Published On"),t(),i(40,"th",20),n(41,"Edit"),t(),i(42,"th",20),n(43,"Delete"),t()()(),i(44,"tbody"),x(45,Pi,23,9,"tr",21),R(46,"paginate"),t()(),i(47,"div",22)(48,"small",23),n(49,"Showing 1 to 10 of 10 entries"),t(),i(50,"pagination-controls",24),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(45),f("ngForOf",q(46,1,o.getData,ee(4,Ci,o.itemsPerPage,o.p))))},dependencies:[w,M,$t,Qt,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}"]})};function Ei(l,r){if(l&1){let e=v();i(0,"button",25),u("click",function(){h(e);let a=g().index,s=g();return b(s.removeDescription(a))}),n(1,"Remove Description"),t()}}function wi(l,r){if(l&1){let e=v();i(0,"div",19),m(1,"br"),i(2,"label",20),n(3),i(4,"span",13),n(5,"required *"),t(),n(6,")"),t(),m(7,"textarea",21),i(8,"p",13),n(9,"Max Character Count: 600 Characters"),t(),i(10,"div",22)(11,"button",23),u("click",function(){h(e);let a=g();return b(a.addDescription())}),n(12,"Add Another Description"),t(),x(13,Ei,2,0,"button",24),t(),m(14,"br")(15,"br"),t()}if(l&2){let e=r.index,o=g();c(2),de("for","description_",e,""),c(),Z("Description ",e+1," ( "),c(4),de("id","description_",e,""),Fe("formControlName",e),c(6),f("ngIf",o.descriptions.length>1)}}function Mi(l,r){if(l&1){let e=v();i(0,"button",25),u("click",function(){h(e);let a=g().index,s=g();return b(s.removeImage(a))}),n(1,"Remove Image"),t()}}function Ii(l,r){if(l&1){let e=v();i(0,"div",26)(1,"label",20),n(2,"Project Cover Image ( "),i(3,"span",13),n(4,"required *"),t(),n(5,")"),t(),i(6,"input",27),u("change",function(a){let s=h(e).index,C=g();return b(C.onFileSelect(a,s))}),t(),m(7,"br"),i(8,"div",22)(9,"button",23),u("click",function(){h(e);let a=g();return b(a.addImage())}),n(10,"Add Another Image"),t(),x(11,Mi,2,0,"button",24),t(),m(12,"br")(13,"br"),t()}if(l&2){let e=r.index,o=g();c(),de("for","project_image_",e,""),c(5),de("id","project_image_",e,""),Fe("formControlName",e),c(5),f("ngIf",o.imagesArray.length>1)}}var Je=class l{constructor(r,e,o,a,s){this.fb=r;this.projectService=e;this.fileService=o;this.alertService=a;this.router=s;this.projectForm=this.fb.group({name:["",d.required],descriptions:this.fb.array([]),images:this.fb.array([])})}projectForm;images=[];ngOnInit(){let r={name:"",descriptions:[""],images:[""]};this.projectForm.patchValue({name:r.name}),this.setDescriptions(r.descriptions),this.setImages(r.images),console.log(this.projectForm.value),console.log("Descriptions Controls:",this.descriptions.controls),console.log("Images Controls:",this.imagesArray.controls)}get descriptions(){return this.projectForm.get("descriptions")}get imagesArray(){return this.projectForm.get("images")}setDescriptions(r){r.forEach(e=>{this.descriptions.push(this.fb.control(e,d.required))})}setImages(r){r.forEach(e=>{this.imagesArray.push(this.fb.control(e,d.required)),console.log(e)})}addDescription(){this.descriptions.push(this.fb.control("",d.required)),console.log("After Adding Description:",this.projectForm.value),console.log("Descriptions Controls:",this.descriptions.controls)}removeDescription(r){this.descriptions.removeAt(r),console.log("After Removing Description:",this.projectForm.value),console.log("Descriptions Controls:",this.descriptions.controls)}onFileSelect(r,e){let o=r.target;if(o&&o.files&&o.files[0]){let a=o.files[0];this.images[e]=a,this.imagesArray.at(e).setValue(a.name),console.log("Selected file:",a),console.log("Images Array After File Select:",this.imagesArray.controls)}else console.error("No file selected or invalid file input.")}addImage(){this.imagesArray.push(this.fb.control("",d.required)),console.log("After Adding Image:",this.projectForm.value),console.log("Images Controls:",this.imagesArray.controls),console.log(this.imagesArray.value)}removeImage(r){this.images.splice(r,1),this.imagesArray.removeAt(r),console.log("After Removing Image:",this.projectForm.value),console.log("Images Controls:",this.imagesArray.controls)}uploadImages(){return me(this,null,function*(){let r=this.images.map(e=>this.fileService.uploadFile(e).toPromise().then(o=>o.type===k.Response&&o.body?.file?o.body.file.path.replace(/\\/g,"/"):""));return Promise.all(r)})}onSubmit(){return me(this,null,function*(){if(this.projectForm.valid){console.log("Form on Submit:",this.projectForm.value);try{let r=yield this.uploadImages();this.imagesArray.clear(),r.forEach(a=>{a&&this.imagesArray.push(this.fb.control(a))});let e=this.projectForm.value;console.log(e),console.log(typeof e);let o=yield this.projectService.post("projects",e).toPromise();this.alertService.successToast("Project created successfully"),alert("Project created successfully"),this.router.navigate(["/admin/projects"]),this.resetForm(),console.log("Project created:",o)}catch(r){this.alertService.errorToast("Error submitting the project"),console.error("Error in onSubmit:",r)}}else this.alertService.errorToast("Please complete all required fields."),console.error("Form is invalid:",this.projectForm.value)})}resetForm(){this.projectForm.reset(),this.images=[],this.imagesArray.clear(),this.descriptions.clear()}static \u0275fac=function(e){return new(e||l)(p(I),p(Se),p(F),p(ve),p(N))};static \u0275cmp=y({type:l,selectors:[["app-add-project"]],decls:27,vars:3,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/projects",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","project_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","name"],[1,"text-danger"],["type","text","id","name","formControlName","name",1,"form-control"],["class","form-group col-lg-12","formArrayName","descriptions",4,"ngFor","ngForOf"],["class","form-group col-lg-4","formArrayName","images",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"],["formArrayName","descriptions",1,"form-group","col-lg-12"],[3,"for"],["rows","5",1,"form-control",3,"id","formControlName"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary","me-5",3,"click"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],["formArrayName","images",1,"form-group","col-lg-4"],["type","file","accept","image/*","required","",1,"form-control",3,"change","id","formControlName"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Projects"),t()(),i(9,"h4",8),n(10,"Add New Project"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.onSubmit()}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Project Name ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),x(21,wi,16,7,"div",15)(22,Ii,14,6,"div",16),m(23,"hr"),i(24,"div",17)(25,"button",18),n(26,"Add Project"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.projectForm),c(9),f("ngForOf",o.descriptions.controls),c(),f("ngForOf",o.imagesArray.controls))},dependencies:[w,ae,M,z,A,T,V,ye,$,G,Qe],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};function Oi(l,r){if(l&1){let e=v();i(0,"button",25),u("click",function(){h(e);let a=g().index,s=g();return b(s.removeDescription(a))}),n(1,"Remove Description"),t()}}function Di(l,r){if(l&1){let e=v();i(0,"div",19),m(1,"br"),i(2,"label",20),n(3),i(4,"span",13),n(5,"required *"),t(),n(6,")"),t(),m(7,"textarea",21),i(8,"p",13),n(9,"Max Character Count: 600 Characters"),t(),i(10,"div",22)(11,"button",23),u("click",function(){h(e);let a=g();return b(a.addDescription())}),n(12,"Add Another Description"),t(),x(13,Oi,2,0,"button",24),t(),m(14,"br")(15,"br"),t()}if(l&2){let e=r.index,o=g();c(2),de("for","description_",e,""),c(),Z("Description ",e+1," ( "),c(4),de("id","description_",e,""),Fe("formControlName",e),c(6),f("ngIf",o.descriptions.length>1)}}function Fi(l,r){if(l&1&&(i(0,"div",29),m(1,"img",30)(2,"br")(3,"br"),t()),l&2){let e=g().index,o=g();c(),f("src","http://localhost:5000/file/download/"+o.imagesArray.at(e).value,oe)}}function ji(l,r){if(l&1){let e=v();i(0,"button",25),u("click",function(){h(e);let a=g().index,s=g();return b(s.removeImage(a))}),n(1,"Remove Image"),t()}}function ki(l,r){if(l&1){let e=v();i(0,"div",26)(1,"label",20),n(2,"Project Cover Image ( "),i(3,"span",13),n(4,"required *"),t(),n(5,")"),t(),i(6,"input",27),u("change",function(a){let s=h(e).index,C=g();return b(C.onFileSelect(a,s))}),t(),m(7,"br"),x(8,Fi,4,1,"div",28),i(9,"div",22)(10,"button",23),u("click",function(){h(e);let a=g();return b(a.addImage())}),n(11,"Add Another Image"),t(),x(12,ji,2,0,"button",24),t(),m(13,"br")(14,"br"),t()}if(l&2){let e=r.index,o=g();c(),de("for","project_image_",e,""),c(5),de("id","project_image_",e,""),Fe("formControlName",e),c(2),f("ngIf",o.imagesArray.at(e).value),c(4),f("ngIf",o.imagesArray.length>1)}}var Ze=class l{constructor(r,e,o,a,s){this.projectService=r;this.fb=e;this.fileServ=o;this.router=a;this.route=s;this.env=S.url,this.projectForm=this.fb.group({name:["",d.required],descriptions:this.fb.array([]),images:this.fb.array([])})}projectForm;images=[];env=S.url;selectedProject={};image=[];ngOnInit(){let r={name:"",descriptions:[""],images:[""]},e=this.route.snapshot.paramMap.get("id");e?(this.fetchProjectById(e),this.setDescriptions(this.selectedProject.descriptions),this.setImages(this.selectedProject.images)):(console.error("Project ID is undefined on initialization"),alert("Error: Project ID is undefined on initialization")),this.projectForm.patchValue({name:r.name})}fetchProjectById(r){this.projectService.get(`projects/${r}`,{}).subscribe(e=>{if(e?.data){this.selectedProject=e.data,this.projectForm.patchValue({name:this.selectedProject.name});let o=this.projectForm.get("descriptions");this.selectedProject.descriptions.forEach(s=>{o.push(this.fb.control(s,d.required))});let a=this.projectForm.get("images");this.selectedProject.images.forEach(s=>{a.push(this.fb.control(`${s}`))})}else console.error("Project data not found:",e),alert("Error: Project data not found.")},e=>{alert("Error fetching project data."),console.error("Error fetching project:",e)})}get descriptions(){return this.projectForm.get("descriptions")}get imagesArray(){return this.projectForm.get("images")}setDescriptions(r){r.forEach(e=>{this.descriptions.push(this.fb.control(e,d.required))})}setImages(r){r.forEach(e=>{this.imagesArray.push(this.fb.control(e,d.required))})}addDescription(){this.descriptions.push(this.fb.control("",d.required))}removeDescription(r){this.descriptions.removeAt(r)}addImage(){this.imagesArray.push(this.fb.control("",d.required))}removeImage(r){this.imagesArray.removeAt(r)}onFileSelect(r,e){let o=r.target.files[0];o&&(this.images[e]=o,this.projectForm.get("images").controls[e].setValue(o))}uploadImages(){return me(this,null,function*(){console.log(this.images);let r=this.images.map(e=>this.fileServ.uploadFile(e).toPromise().then(o=>o.type===k.Response&&o.body?.file?o.body.file.path.replace(/\\/g,"/"):""));return Promise.all(r)})}onSubmit(){return me(this,null,function*(){if(this.projectForm.invalid){alert("Please complete all required fields.");return}(yield this.uploadImages()).forEach(o=>{o&&this.imagesArray.push(this.fb.control(o))});let e=this.projectForm.value;e.images=e.images.filter(o=>Object.keys(o).length>0),this.projectService.put("projects",this.selectedProject._id,e).subscribe(o=>{alert("Project updated successfully!"),this.router.navigate(["/admin/projects"])},o=>{console.error("Error updating project:",o),alert("Error updating project.")})})}static \u0275fac=function(e){return new(e||l)(p(Se),p(I),p(F),p(N),p(xe))};static \u0275cmp=y({type:l,selectors:[["app-edit-project"]],decls:27,vars:3,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/projects",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","project_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","name"],[1,"text-danger"],["type","text","id","name","formControlName","name",1,"form-control"],["class","form-group col-lg-12","formArrayName","descriptions",4,"ngFor","ngForOf"],["class","form-group col-lg-4","formArrayName","images",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"],["formArrayName","descriptions",1,"form-group","col-lg-12"],[3,"for"],["rows","5",1,"form-control",3,"id","formControlName"],[1,"d-flex","justify-content-between"],["type","button",1,"btn","btn-secondary","me-5",3,"click"],["type","button","class","btn btn-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],["formArrayName","images",1,"form-group","col-lg-4"],["type","file","accept","image/*","required","",1,"form-control",3,"change","id","formControlName"],["class","preview-image",4,"ngIf"],[1,"preview-image"],["alt","Current Project Image",1,"rounded-3",2,"width","85px",3,"src"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Projects"),t()(),i(9,"h4",8),n(10,"Edit Project"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.onSubmit()}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Project Name ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),x(21,Di,16,7,"div",15)(22,ki,15,7,"div",16),m(23,"hr"),i(24,"div",17)(25,"button",18),n(26,"Update Project"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.projectForm),c(9),f("ngForOf",o.descriptions.controls),c(),f("ngForOf",o.imagesArray.controls))},dependencies:[w,ae,M,z,A,T,V,ye,$,G,Qe],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var Ni=["confirmDeleteModal"],Ai=(l,r)=>({itemsPerPage:l,currentPage:r}),Ti=l=>["edit-blog",l];function Vi(l,r){if(l&1){let e=v();i(0,"div",30)(1,"h5",31),n(2,"Confirm Deletion"),t(),i(3,"button",32),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",33)(5,"p"),n(6,"Are you sure you want to delete this blog? This action cannot be undone."),t()(),i(7,"div",34)(8,"button",35),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",36),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function zi(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td",25),n(4),t(),i(5,"td"),m(6,"img",26),t(),i(7,"td",25),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td",20)(14,"a",27),n(15,"Edit"),t()(),i(16,"td",20)(17,"div",28)(18,"button",29),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),n(19,"Delete"),t(),x(20,Vi,12,0,"ng-template",null,0,Y),t()()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.title),c(2),f("src",a.env+"/file/download/"+e.image,oe),c(2),Z(" ",e.description," "),c(2),_(e.youtubeLink),c(2),_(e.tags),c(2),f("routerLink",Ce(7,Ti,e._id))}}var Ye=class l{constructor(r,e,o,a){this._blogService=r;this.fb=e;this.modalService=o;this.fileServ=a;this.env=S.url,this.myForm=this.fb.group({youtubeLink:["",d.required],tags:[[],d.required],title:["",d.required],description:["",d.required]});for(let s=1;s<=100;s++)this.collection.push(`item ${s}`)}p=1;itemsPerPage=10;env;selectedBlog={};getData;myForm;blogToDeleteId=null;image=[];collection=[];confirmDeleteModal;data;ngOnInit(){this.fetchAllBlogs()}fetchAllBlogs(){this._blogService.get("vlogs",{}).subscribe(r=>{this.getData=r,console.log(this.getData.length)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editBlog(r,e){this.selectedBlog=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}onDelete(r){this.blogToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.blogToDeleteId&&this._blogService.delete("vlogs",this.blogToDeleteId).subscribe(a=>{console.log(a),this.fetchAllBlogs()})})}confirmDelete(r){r.close("Delete")}onDeleteAll(){}handleFileInput(r){this.selectedBlog.image=r.target.files[0]}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}uploadImage(r){this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(e=>{if(e.type===k.Response){let a=e.body.file.path;this.selectedBlog.image=a,console.log("blog",this.selectedBlog),this._blogService.put("vlogs",this.selectedBlog._id,this.selectedBlog).subscribe(s=>{this.fetchAllBlogs(),r.close()})}},e=>{alert(`Error uploading image: ${e.message}`)}):alert("Please Select Image")}static \u0275fac=function(e){return new(e||l)(p(ge),p(I),p(te),p(F))};static \u0275cmp=y({type:l,selectors:[["app-blogs"]],viewQuery:function(e,o){if(e&1&&Q(Ni,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:51,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],["routerLink","add-blog",1,"btn","btn-primary","btn-sm"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm","w-auto"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"text-truncate"],["alt","Blog","width","85",1,"rounded-3",3,"src"],[1,"btn","btn-success","btn-sm",3,"routerLink"],[1,"d-flex","justify-content-center","gap-2","flex-nowrap"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),n(6,"Blogs"),t(),i(7,"a",7),n(8,"Add Blog"),t()(),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),n(13," Show "),i(14,"select",12)(15,"option",13),n(16,"10"),t(),i(17,"option",14),n(18,"25"),t(),i(19,"option",15),n(20,"50"),t(),i(21,"option",16),n(22,"100"),t()(),n(23," entries "),t(),m(24,"input",17),t(),i(25,"table",18)(26,"thead",19)(27,"tr")(28,"th"),n(29,"S.no."),t(),i(30,"th"),n(31,"Blog Name"),t(),i(32,"th"),n(33,"Blog Image"),t(),i(34,"th"),n(35,"Description"),t(),i(36,"th"),n(37,"Youtube Link"),t(),i(38,"th"),n(39,"Tags"),t(),i(40,"th",20),n(41,"Edit"),t(),i(42,"th",20),n(43,"Delete"),t()()(),i(44,"tbody"),x(45,zi,22,9,"tr",21),R(46,"paginate"),t()(),i(47,"div",22)(48,"small",23),n(49,"Showing 1 to 10 of 10 entries"),t(),i(50,"pagination-controls",24),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(45),f("ngForOf",q(46,1,o.getData,ee(4,Ai,o.itemsPerPage,o.p))))},dependencies:[w,M,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}"]})};var Xe=class l{constructor(r,e,o,a,s){this.fb=r;this.fileServ=e;this.api=o;this.as=a;this.route=s;this.myForm=this.fb.group({youtubeLink:["",d.required],tags:[[],d.required],title:["",d.required],description:["",d.required]})}myForm;isLoading=!1;image=[];ngOnInit(){}uploadImage(r){this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(e=>{if(e.type===k.Response){let a=e.body.file.path;this.myForm.patchValue({image:a}),this.onSubmit(r)}},e=>{this.as.errorToast(`Error uploading image: ${e.message}`)}):this.as.warningToast("Please select an image")}onSubmit(r){r.valid&&(this.isLoading=!0,this.api.post("vlogs",r.value).subscribe(e=>{this.isLoading=!1,e?(this.route.navigate(["/admin/blogs"]),this.as.successToast("Blog created successfully!")):this.as.warningToast(e.error.message)},e=>{this.isLoading=!1,this.as.errorToast(e.message)}))}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}static \u0275fac=function(e){return new(e||l)(p(I),p(F),p(ge),p(ve),p(N))};static \u0275cmp=y({type:l,selectors:[["app-add-blog"]],decls:52,vars:1,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/blogs",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","blog_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","title","formControlName","title",1,"form-control"],["for","description"],["id","description","formControlName","description","rows","5",1,"form-control"],["id","description","formControlName","youtubeLink","rows","5",1,"form-control"],["id","description","formControlName","tags","rows","5",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Blogs"),t()(),i(9,"h4",8),n(10,"Add Blog"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.onSubmit(o.myForm)}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Blog Name ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",15),n(23,"Blog Description ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"textarea",16),i(28,"p",13),n(29,"Max Character Count : 1500 Character"),t()(),i(30,"div",11)(31,"label",15),n(32,"youtubeLink ( "),i(33,"span",13),n(34,"required *"),t(),n(35,")"),t(),m(36,"textarea",17),i(37,"p",13),n(38,"Max Character Count : 1500 Character"),t()(),i(39,"div",11)(40,"label",15),n(41,"Tags ( "),i(42,"span",13),n(43,"required *"),t(),n(44,")"),t(),m(45,"textarea",18),i(46,"p",13),n(47,"Max Character Count : 1500 Character"),t()(),m(48,"hr"),i(49,"div",19)(50,"button",20),n(51,"Add"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm))},dependencies:[M,z,A,T,V,$,G],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #007bff;border-radius:6px;padding:30px;text-align:center;background-color:#f8f9fa;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,box-shadow .3s ease}.dropzone[_ngcontent-%COMP%]:hover{background-color:#e2e6ea;box-shadow:0 8px 16px #0000004d}.dropzone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#007bff}.dropzone[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center}.preview-image[_ngcontent-%COMP%]{max-width:25%;max-height:25%;border-radius:6px;box-shadow:0 2px 4px #0000001a}.btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var Ke=class l{constructor(r,e,o,a,s){this._blogService=r;this.fb=e;this.fileServ=o;this.router=a;this.route=s;this.myForm=this.fb.group({youtubeLink:[""],tags:[[],d.required],title:["",d.required],description:["",d.required]})}env=S.url;selectedBlog={};myForm;image=[];ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r?this.fetchBlogById(r):(console.error("Blog ID is undefined on initialization"),alert("Error: Blog ID is undefined on initialization"))}fetchBlogById(r){this._blogService.get(`vlogs/${r}`,{}).subscribe(e=>{e?(this.selectedBlog=e,this.selectedBlog.image&&!this.selectedBlog.image.startsWith("http")&&(this.selectedBlog.image=this.selectedBlog.image.replace(/\\/g,"/")),console.log("Selected Blog Image:",this.selectedBlog.image),this.populateForm()):(console.error("Blog data does not contain an _id:",e),alert("Error: Blog data is missing an ID."))},e=>{console.error(`Error fetching blog with ID ${r}:`,e),alert(`Error fetching blog: ${e.message}`)})}populateForm(){this.myForm.patchValue({title:this.selectedBlog.title,description:this.selectedBlog.description,youtubeLink:this.selectedBlog.youtubeLink,tags:this.selectedBlog.tags})}handleFileInput(r){this.selectedBlog.image=r.target.files[0]}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}uploadImage(){if(this.image.length===0&&!this.selectedBlog.image){alert("Please select an image");return}this.selectedBlog.title=this.myForm.value.title,this.selectedBlog.description=this.myForm.value.description,this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(r=>{if(r.type===k.Response){let e=r.body;if(e&&e.file&&e.file.path){let o=e.file.path.replace(/\\/g,"/");this.selectedBlog.image=o,this.updateBlog()}else console.error("Image upload response does not contain a valid path"),alert("Error: Image upload failed.")}},r=>{console.error("Error uploading image:",r),alert(`Error uploading image: ${r.message}`)}):this.updateBlog()}updateBlog(){this._blogService.put("vlogs",this.selectedBlog._id,this.myForm.value).subscribe(()=>{alert("Blog updated successfully"),this.router.navigate(["/admin/blogs"])},r=>{console.error("Error updating blog:",r),alert(`Error updating blog: ${r.message}`)})}static \u0275fac=function(e){return new(e||l)(p(ge),p(I),p(F),p(N),p(xe))};static \u0275cmp=y({type:l,selectors:[["app-edit-blog"]],decls:52,vars:1,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/blogs",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","blog_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","title","formControlName","title","required","",1,"form-control"],["for","description"],["id","description","formControlName","description","rows","5","required","",1,"form-control"],["id","description","formControlName","youtubeLink","rows","5","required","",1,"form-control"],["id","description","formControlName","tags","rows","5","required","",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Blogs"),t()(),i(9,"h4",8),n(10,"Edit Blog"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.updateBlog()}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Project Name ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",15),n(23,"Project Description ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"textarea",16),i(28,"p",13),n(29,"Max Character Count: 600 Characters"),t()(),i(30,"div",11)(31,"label",15),n(32,"youtubeLink( "),i(33,"span",13),n(34,"required *"),t(),n(35,")"),t(),m(36,"textarea",17),i(37,"p",13),n(38,"Max Character Count: 600 Characters"),t()(),i(39,"div",11)(40,"label",15),n(41,"tags ( "),i(42,"span",13),n(43,"required *"),t(),n(44,")"),t(),m(45,"textarea",18),i(46,"p",13),n(47,"Max Character Count: 600 Characters"),t()(),m(48,"hr"),i(49,"div",19)(50,"button",20),n(51,"Update"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm))},dependencies:[M,z,A,T,V,ye,$,G],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var Bi=["confirmDeleteModal"],Li=(l,r)=>({itemsPerPage:l,currentPage:r});function Ri(l,r){if(l&1){let e=v();i(0,"div",27)(1,"h5",28),n(2,"Confirm Deletion"),t(),i(3,"button",29),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",30)(5,"p"),n(6,"Are you sure you want to delete this contact? This action cannot be undone."),t()(),i(7,"div",31)(8,"button",32),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",33),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function qi(l,r){if(l&1){let e=v();i(0,"div",27)(1,"h5",28),n(2,"Edit Contact"),t(),i(3,"button",29),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cross click"))}),t()(),i(4,"div",30)(5,"form")(6,"div",34)(7,"label",35),n(8,"Name"),t(),i(9,"input",36),Ne("ngModelChange",function(a){h(e);let s=g(2);return ke(s.selectedContact.name,a)||(s.selectedContact.name=a),b(a)}),t()(),i(10,"div",34)(11,"label",35),n(12,"Email"),t(),i(13,"input",37),Ne("ngModelChange",function(a){h(e);let s=g(2);return ke(s.selectedContact.email,a)||(s.selectedContact.email=a),b(a)}),t()(),i(14,"div",34)(15,"label",35),n(16,"Phone"),t(),i(17,"input",38),Ne("ngModelChange",function(a){h(e);let s=g(2);return ke(s.selectedContact.number,a)||(s.selectedContact.number=a),b(a)}),t()(),i(18,"div",34)(19,"label",35),n(20,"Country Code"),t(),i(21,"input",39),Ne("ngModelChange",function(a){h(e);let s=g(2);return ke(s.selectedContact.countryCode,a)||(s.selectedContact.countryCode=a),b(a)}),t()(),i(22,"div",34)(23,"label",35),n(24,"Message"),t(),i(25,"textarea",40),Ne("ngModelChange",function(a){h(e);let s=g(2);return ke(s.selectedContact.message,a)||(s.selectedContact.message=a),b(a)}),t()()()(),i(26,"div",31)(27,"button",32),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(28,"Cancel"),t(),i(29,"button",41),u("click",function(){let a=h(e).$implicit;return b(a.close("Save"))}),n(30,"Update"),t()()}if(l&2){let e=g(2);c(9),je("ngModel",e.selectedContact.name),c(4),je("ngModel",e.selectedContact.email),c(4),je("ngModel",e.selectedContact.number),c(4),je("ngModel",e.selectedContact.countryCode),c(4),je("ngModel",e.selectedContact.message)}}function Qi(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td",19)(14,"div",24)(15,"button",25),u("click",function(){let a=h(e).$implicit,s=K(22),C=g();return b(C.editContact(a,s))}),n(16,"Edit"),t(),i(17,"button",26),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),n(18,"Delete"),t()(),x(19,Ri,12,0,"ng-template",null,0,Y)(21,qi,31,5,"ng-template",null,1,Y),t()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.name),c(2),_(e.email),c(2),_(e.countryCode),c(2),_(e.number),c(2),_(e.message)}}var et=class l{constructor(r,e,o){this.http=r;this._contactService=e;this.modalService=o;for(let a=1;a<=100;a++)this.collection.push(`item ${a}`)}collection=[];p=1;itemsPerPage=10;getData;selectedContact={name:"",email:"",countryCode:"",number:"",message:""};isDeletingAll=!1;confirmDeleteModal;contactToDeleteId=null;ngOnInit(){this.fetchAllContacts()}fetchAllContacts(){this._contactService.onContactGetAll().subscribe(r=>{this.getData=r,console.log(this.getData.length)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editContact(r,e){this.selectedContact=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Save"&&this.updateContact(this.selectedContact._id,this.selectedContact)})}updateContact(r,e){this._contactService.onContactUpdate(r,e).subscribe(o=>{let a=this.getData.findIndex(s=>s._id===r);a!==-1&&(this.getData[a]=e)})}onDelete(r){this.contactToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.contactToDeleteId&&this._contactService.onContactDelete(this.contactToDeleteId).subscribe(a=>{this.fetchAllContacts()})})}confirmDelete(r){r.close("Delete")}confirmDeleteAll(){this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{e==="Confirm"&&this.confirmDeleteAllAction()})}confirmDeleteAllAction(){this.isDeletingAll=!0,setTimeout(()=>{this._contactService.onContactDeleteAll().subscribe(r=>{this.fetchAllContacts(),this.isDeletingAll=!1})},1e4)}static \u0275fac=function(e){return new(e||l)(p(pe),p($e),p(te))};static \u0275cmp=y({type:l,selectors:[["app-query"]],viewQuery:function(e,o){if(e&1&&Q(Bi,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:47,vars:7,consts:[["confirmDeleteModal",""],["content",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"d-flex","justify-content-center","gap-2"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[1,"mb-3"],[1,"form-label"],["type","text","name","name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","number",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","countryCode",1,"form-control",3,"ngModelChange","ngModel"],["name","message",1,"form-control","text-truncate",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-success",3,"click"]],template:function(e,o){e&1&&(i(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h4",6),n(5,"Contacts List"),t(),i(6,"div",7)(7,"div",8)(8,"div",9)(9,"label",10),n(10," Show "),i(11,"select",11)(12,"option",12),n(13,"10"),t(),i(14,"option",13),n(15,"25"),t(),i(16,"option",14),n(17,"50"),t(),i(18,"option",15),n(19,"100"),t()(),n(20," entries "),t(),i(21,"div"),m(22,"input",16),t()(),i(23,"table",17)(24,"thead",18)(25,"tr")(26,"th"),n(27,"S.no"),t(),i(28,"th"),n(29,"Name"),t(),i(30,"th"),n(31,"Email"),t(),i(32,"th"),n(33,"Country Code"),t(),i(34,"th"),n(35,"Phone"),t(),i(36,"th"),n(37,"Message"),t(),i(38,"th",19),n(39,"Actions"),t()()(),i(40,"tbody"),x(41,Qi,23,6,"tr",20),R(42,"paginate"),t()(),i(43,"div",21)(44,"small",22),n(45,"Showing 1 to 10 of 10 entries"),t(),i(46,"pagination-controls",23),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(41),f("ngForOf",q(42,1,o.getData,ee(4,Li,o.itemsPerPage,o.p))))},dependencies:[w,ne,z,H,W,A,T,V,Bt,zt,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}textarea[_ngcontent-%COMP%]{resize:vertical}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:250px}"]})};var j=class l{constructor(r,e){this.authService=r;this.router=e}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||l)(Ee(Vt),Ee(N))};static \u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})};var $i=["confirmDeleteModal"],Gi=(l,r)=>({itemsPerPage:l,currentPage:r});function Hi(l,r){if(l&1){let e=v();i(0,"div",26)(1,"h5",27),n(2,"Confirm Deletion"),t(),i(3,"button",28),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",29)(5,"p"),n(6,"Are you sure you want to delete this contact? This action cannot be undone."),t()(),i(7,"div",30)(8,"button",31),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",32),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function Wi(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td"),n(14),t(),i(15,"td",18)(16,"div",23)(17,"button",24),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),m(18,"i",25),n(19," Delete "),t(),x(20,Hi,12,0,"ng-template",null,0,Y),t()()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.name),c(2),_(e.email),c(2),_(e.course),c(2),_(e.countryCode),c(2),_(e.number),c(2),_(e.price)}}var tt=class l{constructor(r,e,o){this.http=r;this._courseService=e;this.modalService=o;for(let a=1;a<=100;a++)this.collection.push(`item ${a}`)}collection=[];p=1;itemsPerPage=10;getData;selectedCourse={name:"",email:"",countryCode:"",number:"",course:"",price:""};isDeletingAll=!1;confirmDeleteModal;courseToDeleteId=null;ngOnInit(){this.fetchAllCourses()}fetchAllCourses(){this._courseService.onCourseGetAll().subscribe(r=>{this.getData=r,console.log(this.getData.length)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editCourse(r,e){this.selectedCourse=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Save"&&this.updateCourse(this.selectedCourse._id,this.selectedCourse)})}updateCourse(r,e){this._courseService.onCourseUpdate(r,e).subscribe(o=>{let a=this.getData.findIndex(s=>s._id===r);a!==-1&&(this.getData[a]=e)})}onDelete(r){this.courseToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.courseToDeleteId&&this._courseService.onCourseDelete(this.courseToDeleteId).subscribe(a=>{this.fetchAllCourses()})})}confirmDelete(r){r.close("Delete")}confirmDeleteAll(){this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{e==="Confirm"&&this.confirmDeleteAllAction()})}confirmDeleteAllAction(){this.isDeletingAll=!0,setTimeout(()=>{this._courseService.onCourseDeleteAll().subscribe(r=>{this.fetchAllCourses(),this.isDeletingAll=!1})},1e4)}static \u0275fac=function(e){return new(e||l)(p(pe),p(Ht),p(te))};static \u0275cmp=y({type:l,selectors:[["app-course-query"]],viewQuery:function(e,o){if(e&1&&Q($i,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:48,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm","w-auto"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"d-flex","justify-content-center","gap-2","flex-nowrap"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash","me-1"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),n(5,"Course Query List"),t(),i(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),n(10," Show "),i(11,"select",10)(12,"option",11),n(13,"10"),t(),i(14,"option",12),n(15,"25"),t(),i(16,"option",13),n(17,"50"),t(),i(18,"option",14),n(19,"100"),t()(),n(20," entries "),t(),m(21,"input",15),t(),i(22,"table",16)(23,"thead",17)(24,"tr")(25,"th"),n(26,"S.no"),t(),i(27,"th"),n(28,"Name"),t(),i(29,"th"),n(30,"Email"),t(),i(31,"th"),n(32,"Course"),t(),i(33,"th"),n(34,"Country Code"),t(),i(35,"th"),n(36,"Phone"),t(),i(37,"th"),n(38,"Price"),t(),i(39,"th",18),n(40,"Actions"),t()()(),i(41,"tbody"),x(42,Wi,22,7,"tr",19),R(43,"paginate"),t()(),i(44,"div",20)(45,"small",21),n(46,"Showing 1 to 10 of 10 entries"),t(),i(47,"pagination-controls",22),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(42),f("ngForOf",q(43,1,o.getData,ee(4,Gi,o.itemsPerPage,o.p))))},dependencies:[w,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}"]})};var Ui=["confirmDeleteModal"],Ji=(l,r)=>({itemsPerPage:l,currentPage:r});function Zi(l,r){if(l&1){let e=v();i(0,"div",28)(1,"h5",29),n(2,"Confirm Deletion"),t(),i(3,"button",30),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",31)(5,"p"),n(6,"Are you sure you want to delete this contact? This action cannot be undone."),t()(),i(7,"div",32)(8,"button",33),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",34),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function Yi(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td"),n(10),t(),i(11,"td"),n(12),t(),i(13,"td"),n(14),t(),i(15,"td"),n(16),t(),i(17,"td"),n(18),t(),i(19,"td",18)(20,"div",23)(21,"button",24),u("click",function(){let a=h(e).$implicit,s=g();return b(s.viewResume(a.resume))}),m(22,"i",25),n(23," View "),t(),i(24,"button",26),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),m(25,"i",27),n(26," Delete "),t(),x(27,Zi,12,0,"ng-template",null,0,Y),t()()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.name),c(2),_(e.email),c(2),_(e.linkedin),c(2),_(e.countryCode),c(2),_(e.number),c(2),_(e.category),c(2),_(e.experience),c(2),_(e.resume),c(3),f("disabled",!e.resume)}}var it=class l{constructor(r,e,o,a){this.http=r;this.CarrierFormService=e;this.modalService=o;this.fileService=a;for(let s=1;s<=100;s++)this.collection.push(`item ${s}`)}collection=[];p=1;itemsPerPage=10;getData;selectedCarrierForm={name:"",email:"",countryCode:"",number:"",category:"",linkedin:"",experience:"",resume:""};isDeletingAll=!1;confirmDeleteModal;CarrierFormToDeleteId=null;getFileExtension(r){let e=r.split(".");return e.length>1?e.pop().toLowerCase():null}getFileName(r){return r.replace(/\\/g,"/").split("/").pop()||"resume"}ngOnInit(){this.fetchAllCarrierForm()}fetchAllCarrierForm(){this.CarrierFormService.onCarrierFormGetAll().subscribe(r=>{this.getData=r,console.log(this.getData.length)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editCarrierForm(r,e){this.selectedCarrierForm=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Save"&&this.updateCarrierForm(this.selectedCarrierForm._id,this.selectedCarrierForm)})}updateCarrierForm(r,e){this.CarrierFormService.onCarrierFormUpdate(r,e).subscribe(o=>{let a=this.getData.findIndex(s=>s._id===r);a!==-1&&(this.getData[a]=e)})}onDelete(r){this.CarrierFormToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.CarrierFormToDeleteId&&this.CarrierFormService.onCarrierFormDelete(this.CarrierFormToDeleteId).subscribe(a=>{this.fetchAllCarrierForm()})})}confirmDelete(r){r.close("Delete")}confirmDeleteAll(){this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(e=>{e==="Confirm"&&this.confirmDeleteAllAction()})}confirmDeleteAllAction(){this.isDeletingAll=!0,setTimeout(()=>{this.CarrierFormService.onCarrierFormDeleteAll().subscribe(r=>{this.fetchAllCarrierForm(),this.isDeletingAll=!1})},1e4)}extractServerFilePath(r){let e=r.replace(/\\/g,"/"),o=e.indexOf("uploads/");return o>=0?e.substring(o+8):e}viewResume(r){if(!r){console.error("No resume path provided");return}console.log("Original resume path:",r);let e=this.fileService.view(r);console.log("Constructed URL:",e),window.open(e,"_blank")}downloadResume(r){let e=this.fileService.download(r),o=document.createElement("a");o.href=e,o.download=r.split("/").pop(),o.click()}static \u0275fac=function(e){return new(e||l)(p(pe),p(Wt),p(te),p(F))};static \u0275cmp=y({type:l,selectors:[["app-carrier-query"]],viewQuery:function(e,o){if(e&1&&Q(Ui,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:52,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"card-title","mb-3"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm","w-auto"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"d-flex","justify-content-center","gap-2","flex-nowrap"],["title","View Resume",1,"btn","btn-info","btn-sm",3,"click","disabled"],[1,"fas","fa-eye","me-1"],["title","Delete Entry",1,"btn","btn-warning","btn-sm",3,"click"],[1,"fas","fa-trash","me-1"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",5),n(5,"Carrier Query List"),t(),i(6,"div",6)(7,"div",7)(8,"div",8)(9,"label",9),n(10," Show "),i(11,"select",10)(12,"option",11),n(13,"10"),t(),i(14,"option",12),n(15,"25"),t(),i(16,"option",13),n(17,"50"),t(),i(18,"option",14),n(19,"100"),t()(),n(20," entries "),t(),m(21,"input",15),t(),i(22,"table",16)(23,"thead",17)(24,"tr")(25,"th"),n(26,"S.no"),t(),i(27,"th"),n(28,"Name"),t(),i(29,"th"),n(30,"Email"),t(),i(31,"th"),n(32,"LinkedIn Profile"),t(),i(33,"th"),n(34,"Country Code"),t(),i(35,"th"),n(36,"Phone"),t(),i(37,"th"),n(38,"Category"),t(),i(39,"th"),n(40,"Experience"),t(),i(41,"th"),n(42,"Resume/CV"),t(),i(43,"th",18),n(44,"Action"),t()()(),i(45,"tbody"),x(46,Yi,29,10,"tr",19),R(47,"paginate"),t()(),i(48,"div",20)(49,"small",21),n(50,"Showing 1 to 10 of 10 entries"),t(),i(51,"pagination-controls",22),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(46),f("ngForOf",q(47,1,o.getData,ee(4,Ji,o.itemsPerPage,o.p))))},dependencies:[w,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff;border:none}.btn-info[_ngcontent-%COMP%]:hover{background-color:#138496;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none}.btn-success[_ngcontent-%COMP%]:hover{background-color:#218838;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;color:#fff}.btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}textarea[_ngcontent-%COMP%]{resize:vertical}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}"]})};var Xi=["confirmDeleteModal"],Ki=(l,r)=>({itemsPerPage:l,currentPage:r}),en=l=>["edit-carrier",l];function tn(l,r){if(l&1){let e=v();i(0,"div",29)(1,"h5",30),n(2,"Confirm Deletion"),t(),i(3,"button",31),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",32)(5,"p"),n(6,"Are you sure you want to delete this job? This action cannot be undone."),t()(),i(7,"div",33)(8,"button",34),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",35),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function nn(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td",25),n(10),t(),i(11,"td",25),n(12),t(),i(13,"td",25),n(14),t(),i(15,"td",25),n(16),t(),i(17,"td",25),n(18),t(),i(19,"td",25),n(20),t(),i(21,"td",25),n(22),t(),i(23,"td"),n(24),t(),i(25,"td"),n(26),t(),i(27,"td",20)(28,"a",26),n(29,"Edit"),t()(),i(30,"td",20)(31,"div",27)(32,"button",28),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),n(33," Delete "),t(),x(34,tn,12,0,"ng-template",null,0,Y),t()()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),_(e.jobTitle),c(2),_(e.jobRole),c(2),_(e.jobDuration),c(2),_(e.jobLocation),c(2),_(e.jobSkills),c(2),_(e.jobExperience),c(2),_(e.jobType),c(2),_(e.jobPreference),c(2),_(e.jobDescription),c(2),_(e.jobSalary),c(2),_(e.created_at),c(2),_(e.updated_at),c(2),f("routerLink",Ce(14,en,e._id))}}var nt=class l{constructor(r,e,o){this.carriersService=r;this.fb=e;this.modalService=o;this.env=S.url,this.myForm=this.fb.group({jobTitle:["",d.required],jobRole:["",d.required],jobDuration:["",d.required],jobLocation:["",d.required],jobSkills:["",d.required],jobExperience:["",d.required],jobType:["",d.required],jobPreference:["",d.required],jobDescription:["",d.required],jobSalary:["",d.required]});for(let a=1;a<=100;a++)this.collection.push(`item ${a}`)}p=1;itemsPerPage=10;env;selectedCarrier={};carriers=[];myForm;carrierToDeleteId=null;collection=[];isLoading=!1;confirmDeleteModal;ngOnInit(){this.fetchAllCarriers()}fetchAllCarriers(){this.isLoading=!0,this.carriersService.get("carriers",{}).subscribe({next:r=>{if(r&&typeof r=="object")if(Array.isArray(r.data))this.carriers=r.data;else if(Array.isArray(r))this.carriers=r;else{console.log("API response structure:",r);for(let e in r)if(Array.isArray(r[e])){console.log(`Found array in property: ${e}`),this.carriers=r[e];break}Array.isArray(this.carriers)||(console.error("Could not find array in API response"),this.carriers=[])}else this.carriers=[];console.log("Carriers data loaded:",this.carriers),this.isLoading=!1},error:r=>{console.error("Error fetching carriers:",r),this.carriers=[],this.isLoading=!1}})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editCarriers(r,e){this.selectedCarrier=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}onDelete(r){this.carrierToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.carrierToDeleteId&&this.carriersService.delete("carriers",this.carrierToDeleteId).subscribe({next:a=>{console.log("Carrier deleted successfully:",a),this.fetchAllCarriers()},error:a=>{console.error("Error deleting carrier:",a)}})})}confirmDelete(r){r.close("Delete")}static \u0275fac=function(e){return new(e||l)(p(Te),p(I),p(te))};static \u0275cmp=y({type:l,selectors:[["app-carriers"]],viewQuery:function(e,o){if(e&1&&Q(Xi,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:65,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],["routerLink","add-carrier",1,"btn","btn-primary","btn-sm"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-3"],[1,"form-label","mb-0"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],["type","search","placeholder","Search",1,"form-control","form-control-sm","w-auto"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center","mt-2"],[1,"text-muted"],[3,"pageChange"],[1,"text-truncate"],[1,"btn","btn-success","btn-sm",3,"routerLink"],[1,"d-flex","justify-content-center","gap-2","flex-nowrap"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),n(6,"Job List"),t(),i(7,"a",7),n(8,"Add Jobs"),t()(),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),n(13," Show "),i(14,"select",12)(15,"option",13),n(16,"10"),t(),i(17,"option",14),n(18,"25"),t(),i(19,"option",15),n(20,"50"),t(),i(21,"option",16),n(22,"100"),t()(),n(23," entries "),t(),m(24,"input",17),t(),i(25,"table",18)(26,"thead",19)(27,"tr")(28,"th"),n(29,"S.no."),t(),i(30,"th"),n(31,"Job Title"),t(),i(32,"th"),n(33,"Job Role"),t(),i(34,"th"),n(35,"Job Duration"),t(),i(36,"th"),n(37,"Location"),t(),i(38,"th"),n(39,"Skills"),t(),i(40,"th"),n(41,"Experience"),t(),i(42,"th"),n(43,"Type"),t(),i(44,"th"),n(45,"Preference"),t(),i(46,"th"),n(47,"Description"),t(),i(48,"th"),n(49,"Salary"),t(),i(50,"th"),n(51,"Created On"),t(),i(52,"th"),n(53,"Published On"),t(),i(54,"th",20),n(55,"Edit"),t(),i(56,"th",20),n(57,"Delete"),t()()(),i(58,"tbody"),x(59,nn,36,16,"tr",21),R(60,"paginate"),t()(),i(61,"div",22)(62,"small",23),n(63,"Showing 1 to 10 of 10 entries"),t(),i(64,"pagination-controls",24),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(59),f("ngForOf",q(60,1,o.carriers,ee(4,Ki,o.itemsPerPage,o.p))))},dependencies:[w,M,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:250px}"]})};var Pe=class l{constructor(r){this.http=r}onCoursesGetAllPublic(){return this.http.get(`${S.url}/courses/public`)}onCoursesFindOne(r){return this.http.get(`${S.url}/courses/get/${r}`)}get(r,e){return this.http.get(`${S.url}/${r}`,{params:e})}getById(r,e){return this.http.get(`${S.url}/${r}/${e}`)}post(r,e){return this.http.post(`${S.url}/${r}`,e)}put(r,e,o){return this.http.put(`${S.url}/${r}/${e}`,o)}delete(r,e){return this.http.delete(`${S.url}/${r}/${e}`)}static \u0275fac=function(e){return new(e||l)(Ee(pe))};static \u0275prov=he({token:l,factory:l.\u0275fac,providedIn:"root"})};var rn=["confirmDeleteModal"],on=(l,r)=>({itemsPerPage:l,currentPage:r}),an=l=>["edit-courses",l];function ln(l,r){if(l&1){let e=v();i(0,"div",31)(1,"h5",32),n(2,"Confirm Deletion"),t(),i(3,"button",33),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),t()(),i(4,"div",34)(5,"p"),n(6,"Are you sure you want to delete this course? This action cannot be undone."),t()(),i(7,"div",35)(8,"button",36),u("click",function(){let a=h(e).$implicit;return b(a.dismiss("Cancel"))}),n(9,"Cancel"),t(),i(10,"button",37),u("click",function(){let a=h(e).$implicit,s=g(2);return b(s.confirmDelete(a))}),n(11,"Delete"),t()()}}function sn(l,r){if(l&1){let e=v();i(0,"tr")(1,"td"),n(2),t(),i(3,"td")(4,"span",26),n(5),t()(),i(6,"td")(7,"span",26),n(8),t()(),i(9,"td")(10,"span",26),n(11),t()(),i(12,"td"),m(13,"img",27),t(),i(14,"td")(15,"span",28),n(16),t()(),i(17,"td")(18,"span",28),n(19),t()(),i(20,"td")(21,"span",28),n(22),t()(),i(23,"td")(24,"span",28),n(25),t()(),i(26,"td")(27,"span",28),n(28),t()(),i(29,"td")(30,"span",28),n(31),t()(),i(32,"td"),n(33),t(),i(34,"td"),n(35),t(),i(36,"td",21)(37,"a",29),n(38,"Edit"),t()(),i(39,"td",21)(40,"button",30),u("click",function(){let a=h(e).$implicit,s=g();return b(s.onDelete(a._id))}),n(41,"Delete"),t(),x(42,ln,12,0,"ng-template",null,0,Y),t()()}if(l&2){let e=r.$implicit,o=r.index,a=g();c(2),_(a.getSNo(o)),c(2),f("title",e.title),c(),_(e.title),c(2),f("title",e.skill),c(),_(e.skill),c(2),f("title",e.duration),c(),_(e.duration),c(2),f("src",a.env+"/file/download/"+e.image,oe),c(2),f("title",e.heading),c(),_(e.heading),c(2),f("title",e.heading0),c(),_(e.heading0),c(2),f("title",e.heading1),c(),_(e.heading1),c(2),f("title",e.description),c(),_(e.description),c(2),f("title",e.description0),c(),_(e.description0),c(2),f("title",e.description1),c(),_(e.description1),c(2),_(e.created_at),c(2),_(e.updated_at),c(2),f("routerLink",Ce(23,an,e._id))}}var rt=class l{constructor(r,e,o,a){this._courseService=r;this.fb=e;this.modalService=o;this.fileServ=a;this.env=S.url,this.myForm=this.fb.group({image:[null,d.required],title:["",d.required],skill:["",d.required],duration:["",d.required],heading:["",d.required],heading0:["",d.required],heading1:["",d.required],description:["",d.required],description0:["",d.required],description1:["",d.required]});for(let s=1;s<=100;s++)this.collection.push(`item ${s}`)}p=1;itemsPerPage=10;env;selectedCourse={};getData;myForm;courseToDeleteId=null;image=[];collection=[];confirmDeleteModal;data;ngOnInit(){this.fetchAllCourses()}fetchAllCourses(){this._courseService.get("courses",{}).subscribe(r=>{this.getData=r,console.log(this.getData.length)})}getSNo(r){return(this.p-1)*this.itemsPerPage+r+1}editCourse(r,e){this.selectedCourse=J({},r),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title"})}onDelete(r){this.courseToDeleteId=r,this.modalService.open(this.confirmDeleteModal,{ariaLabelledBy:"modal-basic-title"}).result.then(o=>{o==="Delete"&&this.courseToDeleteId&&this._courseService.delete("courses",this.courseToDeleteId).subscribe(a=>{console.log(a),this.fetchAllCourses()})})}confirmDelete(r){r.close("Delete")}onDeleteAll(){}handleFileInput(r){this.selectedCourse.image=r.target.files[0]}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}uploadImage(r){this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(e=>{if(e.type===k.Response){let a=e.body.file.path;this.selectedCourse.image=a,console.log("blog",this.selectedCourse),this._courseService.put("courses",this.selectedCourse._id,this.selectedCourse).subscribe(s=>{this.fetchAllCourses(),r.close()})}},e=>{alert(`Error uploading image: ${e.message}`)}):alert("Please Select Image")}static \u0275fac=function(e){return new(e||l)(p(Pe),p(I),p(te),p(F))};static \u0275cmp=y({type:l,selectors:[["app-courses"]],viewQuery:function(e,o){if(e&1&&Q(rn,5),e&2){let a;B(a=L())&&(o.confirmDeleteModal=a.first)}},decls:66,vars:7,consts:[["confirmDeleteModal",""],[1,"row"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],["routerLink","add-courses",1,"btn","btn-primary","btn-sm"],[1,"card","p-3"],[1,"table-responsive"],[1,"d-flex","justify-content-between","align-items-center","mb-3","flex-wrap"],[1,"form-label","mb-0","me-3"],[1,"form-select","d-inline-block","w-auto","ms-1","me-1"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"ms-auto"],["type","search","placeholder","Search",1,"form-control","form-control-sm"],[1,"table","table-bordered","table-hover","table-sm","align-middle"],[1,"table-light"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[3,"pageChange"],[3,"title"],["alt","course",1,"img-thumbnail",2,"width","85px",3,"src"],[1,"text-truncate","d-inline-block","w-100",3,"title"],[1,"btn","btn-success","btn-sm",3,"routerLink"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){e&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h4",6),n(6,"Courses"),t(),i(7,"a",7),n(8,"Add Course"),t()(),i(9,"div",8)(10,"div",9)(11,"div",10)(12,"label",11),n(13," Show "),i(14,"select",12)(15,"option",13),n(16,"10"),t(),i(17,"option",14),n(18,"25"),t(),i(19,"option",15),n(20,"50"),t(),i(21,"option",16),n(22,"100"),t()(),n(23," entries "),t(),i(24,"div",17),m(25,"input",18),t()(),i(26,"table",19)(27,"thead",20)(28,"tr")(29,"th"),n(30,"S.no."),t(),i(31,"th"),n(32,"Course Title"),t(),i(33,"th"),n(34,"Course Skill"),t(),i(35,"th"),n(36,"Course Duration"),t(),i(37,"th"),n(38,"Course Image"),t(),i(39,"th"),n(40,"Course Heading"),t(),i(41,"th"),n(42,"Heading 0"),t(),i(43,"th"),n(44,"Heading 1"),t(),i(45,"th"),n(46,"Description"),t(),i(47,"th"),n(48,"Description 0"),t(),i(49,"th"),n(50,"Description 1"),t(),i(51,"th"),n(52,"Created On"),t(),i(53,"th"),n(54,"Published On"),t(),i(55,"th",21),n(56,"Edit"),t(),i(57,"th",21),n(58,"Delete"),t()()(),i(59,"tbody"),x(60,sn,44,25,"tr",22),R(61,"paginate"),t()(),i(62,"div",23)(63,"small",24),n(64,"Showing 1 to 10 of 10 entries"),t(),i(65,"pagination-controls",25),u("pageChange",function(s){return o.p=s}),t()()()()()()()()),e&2&&(c(60),f("ngForOf",q(61,1,o.getData,ee(4,on,o.itemsPerPage,o.p))))},dependencies:[w,M,ne,H,W,ie],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:200px}.img-thumbnail[_ngcontent-%COMP%]{object-fit:cover}.delete_blog[_ngcontent-%COMP%]{cursor:pointer}"]})};var Yt=[[["ngx-dropzone-label"]]],Xt=["ngx-dropzone-label"];function cn(l,r){if(l&1){let e=v();i(0,"ngx-dropzone-remove-badge",1),u("click",function(a){h(e);let s=g();return b(s._remove(a))}),t()}}var mn=["fileInput"],dn=[[["ngx-dropzone-preview"]],"*",[["ngx-dropzone-label"]]],pn=["ngx-dropzone-preview","*","ngx-dropzone-label"];function gn(l,r){l&1&&De(0,2,["*ngIf","!_hasPreviews"])}function un(l,r){if(l&1){let e=v();i(0,"ngx-dropzone-remove-badge",2),u("click",function(a){h(e);let s=g();return b(s._remove(a))}),t()}}var ot=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275dir=Le({type:l,selectors:[["ngx-dropzone-label"]]}),l})();function ze(l){return l!=null&&`${l}`!="false"}function fn(l){return!isNaN(parseFloat(l))&&!isNaN(Number(l))?Number(l):null}var Kt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=y({type:l,selectors:[["ngx-dropzone-remove-badge"]],decls:3,vars:0,consts:[["x1","0","y1","0","x2","10","y2","10"],["x1","0","y1","10","x2","10","y2","0"]],template:function(e,o){e&1&&(Mt(),i(0,"svg"),m(1,"line",0)(2,"line",1),t())},styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:22px;width:22px;position:absolute;top:5px;right:5px;border-radius:50%;background:#bbb;color:#333;cursor:pointer}[_nghost-%COMP%]:hover{background:#aeaeae}[_nghost-%COMP%] > svg[_ngcontent-%COMP%]{height:10px;width:10px}[_nghost-%COMP%] > svg[_ngcontent-%COMP%] > line[_ngcontent-%COMP%]{stroke-width:2px;stroke:#fff}"]}),l})(),vt=function(l){return l[l.BACKSPACE=8]="BACKSPACE",l[l.DELETE=46]="DELETE",l}(vt||{}),yt=(()=>{class l{constructor(e){this.sanitizer=e,this._removable=!1,this.removed=new ue,this.tabIndex=0}set file(e){this._file=e}get file(){return this._file}get removable(){return this._removable}set removable(e){this._removable=ze(e)}keyEvent(e){switch(e.keyCode){case vt.BACKSPACE:case vt.DELETE:this.remove();break;default:break}}get hostStyle(){return this.sanitizer.bypassSecurityTrustStyle(`
			display: flex;
			height: 140px;
			min-height: 140px;
			min-width: 180px;
			max-width: 180px;
			justify-content: center;
			align-items: center;
			padding: 0 20px;
			margin: 10px;
			border-radius: 5px;
			position: relative;
		`)}_remove(e){e.stopPropagation(),this.remove()}remove(){this._removable&&this.removed.next(this.file)}readFile(){return me(this,null,function*(){return new Promise((e,o)=>{let a=new FileReader;if(a.onload=s=>{e(s.target.result)},a.onerror=s=>{console.error(`FileReader failed on file ${this.file.name}.`),o(s)},!this.file)return o("No file to read. Please provide a file using the [file] Input property.");a.readAsDataURL(this.file)})})}}return l.\u0275fac=function(e){return new(e||l)(p(ft))},l.\u0275cmp=y({type:l,selectors:[["ngx-dropzone-preview"]],hostVars:3,hostBindings:function(e,o){e&1&&u("keyup",function(s){return o.keyEvent(s)}),e&2&&(jt("tabindex",o.tabIndex),Ot(o.hostStyle))},inputs:{file:"file",removable:"removable"},outputs:{removed:"removed"},ngContentSelectors:Xt,decls:2,vars:1,consts:[[3,"click",4,"ngIf"],[3,"click"]],template:function(e,o){e&1&&(qe(Yt),De(0),x(1,cn,1,0,"ngx-dropzone-remove-badge",0)),e&2&&(c(),f("ngIf",o.removable))},dependencies:[Kt,ae],styles:["[_nghost-%COMP%]{background-image:linear-gradient(to top,#ededed,#efefef,#f1f1f1,#f4f4f4,#f6f6f6)}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus{background-image:linear-gradient(to top,#e3e3e3,#ebeaea,#e8e7e7,#ebeaea,#f4f4f4);outline:0}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]     ngx-dropzone-label{overflow-wrap:break-word}"]}),l})(),Zt=(()=>{class l{parseFileList(e,o,a,s){let C=[],P=[];for(let D=0;D<e.length;D++){let U=e.item(D);if(!this.isAccepted(U,o)){this.rejectFile(P,U,"type");continue}if(a&&U.size>a){this.rejectFile(P,U,"size");continue}if(!s&&C.length>=1){this.rejectFile(P,U,"no_multiple");continue}C.push(U)}return{addedFiles:C,rejectedFiles:P}}isAccepted(e,o){if(o==="*")return!0;let a=o.split(",").map(E=>E.toLowerCase().trim()),s=e.type.toLowerCase(),C=e.name.toLowerCase();return!!a.find(E=>E.endsWith("/*")?s.split("/")[0]===E.split("/")[0]:E.startsWith(".")?C.endsWith(E):E==s)}rejectFile(e,o,a){let s=o;s.reason=a,e.push(s)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=he({token:l,factory:l.\u0275fac}),l})(),at=(()=>{class l{constructor(e){this.service=e,this.change=new ue,this.accept="*",this._disabled=!1,this._multiple=!0,this._maxFileSize=void 0,this._expandable=!1,this._disableClick=!1,this._processDirectoryDrop=!1,this._isHovered=!1}get _hasPreviews(){return!!this._previewChildren.length}get disabled(){return this._disabled}set disabled(e){this._disabled=ze(e),this._isHovered&&(this._isHovered=!1)}get multiple(){return this._multiple}set multiple(e){this._multiple=ze(e)}get maxFileSize(){return this._maxFileSize}set maxFileSize(e){this._maxFileSize=fn(e)}get expandable(){return this._expandable}set expandable(e){this._expandable=ze(e)}get disableClick(){return this._disableClick}set disableClick(e){this._disableClick=ze(e)}get processDirectoryDrop(){return this._processDirectoryDrop}set processDirectoryDrop(e){this._processDirectoryDrop=ze(e)}_onClick(){this.disableClick||this.showFileSelector()}_onDragOver(e){this.disabled||(this.preventDefault(e),this._isHovered=!0)}_onDragLeave(){this._isHovered=!1}_onDrop(e){if(!this.disabled)if(this.preventDefault(e),this._isHovered=!1,!this.processDirectoryDrop||!DataTransferItem.prototype.webkitGetAsEntry)this.handleFileDrop(e.dataTransfer.files);else{let o=e.dataTransfer.items;if(o.length>0){let a=[],s=[];for(let P=0;P<o.length;P++){let E=o[P].webkitGetAsEntry();E.isFile?a.push(e.dataTransfer.files[P]):E.isDirectory&&s.push(E)}let C=new DataTransfer;if(a.forEach(P=>{C.items.add(P)}),!s.length&&C.items.length&&this.handleFileDrop(C.files),s.length){let P=[];for(let E of s)P.push(this.extractFilesFromDirectory(E));Promise.all(P).then(E=>{E.reduce((D,U)=>[...D,...U]).forEach(D=>{C.items.add(D)}),this.handleFileDrop(C.files)})}}}}extractFilesFromDirectory(e){function o(a){return me(this,null,function*(){try{return yield new Promise((s,C)=>a.file(s,C))}catch(s){console.log("Error converting a fileEntry to a File: ",s)}})}return new Promise((a,s)=>{let C=[],P=e.createReader(),E=()=>{P.readEntries(D=>me(this,null,function*(){if(!D.length)a(C);else{let U=D.filter(ce=>ce.isFile);for(let ce of U){let Ie=yield o(ce);C.push(Ie)}E()}}))};E()})}showFileSelector(){this.disabled||this._fileInput.nativeElement.click()}_onFilesSelected(e){let o=e.target.files;this.handleFileDrop(o),this._fileInput.nativeElement.value="",this.preventDefault(e)}handleFileDrop(e){let o=this.service.parseFileList(e,this.accept,this.maxFileSize,this.multiple);this.change.next({addedFiles:o.addedFiles,rejectedFiles:o.rejectedFiles,source:this})}preventDefault(e){e.preventDefault(),e.stopPropagation()}}return l.\u0275fac=function(e){return new(e||l)(p(Zt,2))},l.\u0275cmp=y({type:l,selectors:[["ngx-dropzone"],["","ngx-dropzone",""]],contentQueries:function(e,o,a){if(e&1&&kt(a,yt,5),e&2){let s;B(s=L())&&(o._previewChildren=s)}},viewQuery:function(e,o){if(e&1&&Q(mn,7),e&2){let a;B(a=L())&&(o._fileInput=a.first)}},hostVars:8,hostBindings:function(e,o){e&1&&u("click",function(){return o._onClick()})("dragover",function(s){return o._onDragOver(s)})("dragleave",function(){return o._onDragLeave()})("drop",function(s){return o._onDrop(s)}),e&2&&we("ngx-dz-disabled",o.disabled)("expandable",o.expandable)("unclickable",o.disableClick)("ngx-dz-hovered",o._isHovered)},inputs:{accept:"accept",disabled:"disabled",multiple:"multiple",maxFileSize:"maxFileSize",expandable:"expandable",disableClick:"disableClick",processDirectoryDrop:"processDirectoryDrop",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedBy:[0,"aria-describedby","ariaDescribedBy"]},outputs:{change:"change"},features:[ut([Zt])],ngContentSelectors:pn,decls:5,vars:8,consts:[["fileInput",""],["type","file",3,"change","id","multiple","accept","disabled"],[4,"ngIf"]],template:function(e,o){if(e&1){let a=v();qe(dn),i(0,"input",1,0),u("change",function(C){return h(a),b(o._onFilesSelected(C))}),t(),x(2,gn,1,0,"ng-content",2),De(3),De(4,1)}e&2&&(f("id",o.id)("multiple",o.multiple)("accept",o.accept)("disabled",o.disabled),Re("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedBy),c(2),f("ngIf",!o._hasPreviews))},dependencies:[ae],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:180px;background:#fff;cursor:pointer;color:#717386;border:2px dashed #717386;border-radius:5px;font-size:16px;overflow-x:auto}.ngx-dz-hovered[_nghost-%COMP%]{border-style:solid}.ngx-dz-disabled[_nghost-%COMP%]{opacity:.5;cursor:no-drop;pointer-events:none}.expandable[_nghost-%COMP%]{overflow:hidden;height:unset;min-height:180px;flex-wrap:wrap}.unclickable[_nghost-%COMP%]{cursor:default}[_nghost-%COMP%]     ngx-dropzone-label{text-align:center;z-index:10;margin:10px auto}[_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:.1px;height:.1px;opacity:0;overflow:hidden;position:absolute;z-index:-1}[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus +   ngx-dropzone-label{outline:1px dotted #000;outline:-webkit-focus-ring-color auto 5px}"]}),l})(),lt=(()=>{class l extends yt{constructor(e){super(e),this.defaultImgLoading="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiByZ2IoMjQxLCAyNDIsIDI0Mykgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8Y2lyY2xlIGN4PSI1MCIgY3k9IjUwIiByPSIxNCIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2U9IiM4NWEyYjYiIHN0cm9rZS1kYXNoYXJyYXk9IjIxLjk5MTE0ODU3NTEyODU1MiAyMS45OTExNDg1NzUxMjg1NTIiIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+CiAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4xNjI3OTA2OTc2NzQ0MTg0cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCA1MCA1MDszNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjEwIiBzdHJva2Utd2lkdGg9IjMiIHN0cm9rZT0iI2JiY2VkZCIgc3Ryb2tlLWRhc2hhcnJheT0iMTUuNzA3OTYzMjY3OTQ4OTY2IDE1LjcwNzk2MzI2Nzk0ODk2NiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjE1LjcwNzk2MzI2Nzk0ODk2NiIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIj4KICA8YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgZHVyPSIxLjE2Mjc5MDY5NzY3NDQxODRzIiByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIga2V5VGltZXM9IjA7MSIgdmFsdWVzPSIwIDUwIDUwOy0zNjAgNTAgNTAiPjwvYW5pbWF0ZVRyYW5zZm9ybT4KPC9jaXJjbGU+CjwhLS0gW2xkaW9dIGdlbmVyYXRlZCBieSBodHRwczovL2xvYWRpbmcuaW8vIC0tPjwvc3ZnPg==",this.imageSrc=this.sanitizer.bypassSecurityTrustUrl(this.defaultImgLoading)}set file(e){this._file=e,this.renderImage()}get file(){return this._file}ngOnInit(){this.renderImage()}renderImage(){this.readFile().then(e=>setTimeout(()=>this.imageSrc=e)).catch(e=>console.error(e))}}return l.\u0275fac=function(e){return new(e||l)(p(ft))},l.\u0275cmp=y({type:l,selectors:[["ngx-dropzone-image-preview"]],inputs:{file:"file"},features:[ut([{provide:yt,useExisting:l}]),It],ngContentSelectors:Xt,decls:3,vars:2,consts:[[3,"src"],[3,"click",4,"ngIf"],[3,"click"]],template:function(e,o){e&1&&(qe(Yt),m(0,"img",0),De(1),x(2,un,1,0,"ngx-dropzone-remove-badge",1)),e&2&&(f("src",o.imageSrc,oe),c(2),f("ngIf",o.removable))},dependencies:[Kt,ae],styles:["[_nghost-%COMP%]{min-width:unset!important;max-width:unset!important;padding:0!important}[_nghost-%COMP%]:hover   img[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   img[_ngcontent-%COMP%]{opacity:.7}[_nghost-%COMP%]:hover   ngx-dropzone-remove-badge[_ngcontent-%COMP%], [_nghost-%COMP%]:focus   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   ngx-dropzone-remove-badge[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;border-radius:5px;opacity:.8}[_nghost-%COMP%]     ngx-dropzone-label{position:absolute;overflow-wrap:break-word}"]}),l})();var ei=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=_e({type:l}),l.\u0275inj=be({imports:[[Ae]]}),l})();function hn(l,r){if(l&1){let e=v();i(0,"ngx-dropzone-image-preview",30),u("removed",function(){let a=h(e).$implicit,s=g();return b(s.onRemove(a))}),t()}if(l&2){let e=r.$implicit;f("removable",!0)("file",e)}}var st=class l{constructor(r,e,o,a,s){this.fb=r;this.fileServ=e;this._courseService=o;this.as=a;this.route=s;this.myForm=this.fb.group({image:[null,d.required],title:["",d.required],skill:["",d.required],duration:["",d.required],heading:["",d.required],heading0:["",d.required],heading1:["",d.required],description:["",d.required],description0:["",d.required],description1:["",d.required]})}myForm;isLoading=!1;image=[];ngOnInit(){}uploadImage(r){this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(e=>{if(e.type===k.Response){let a=e.body.file.path;this.myForm.patchValue({image:a}),this.onSubmit(r)}},e=>{this.as.errorToast(`Error uploading image: ${e.message}`)}):this.as.warningToast("Please select an image")}onSubmit(r){r.valid&&(this.isLoading=!0,this._courseService.post("courses",r.value).subscribe(e=>{this.isLoading=!1,e?(this.route.navigate(["/admin/courses"]),this.as.successToast("Course created successfully!")):this.as.warningToast(e.error.message)},e=>{this.isLoading=!1,this.as.errorToast(e.message)}))}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}static \u0275fac=function(e){return new(e||l)(p(I),p(F),p(Pe),p(ve),p(N))};static \u0275cmp=y({type:l,selectors:[["app-add-courses"]],decls:104,vars:3,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/blogs",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","blog_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","title","formControlName","title",1,"form-control"],["type","text","id","title","formControlName","skill",1,"form-control"],["type","text","id","title","formControlName","duration",1,"form-control"],["for","description"],["id","description","formControlName","heading","rows","5",1,"form-control"],["id","description","formControlName","heading0","rows","5",1,"form-control"],["id","description","formControlName","heading1","rows","5",1,"form-control"],["id","description","formControlName","description","rows","5",1,"form-control"],["id","description","formControlName","description0","rows","5",1,"form-control"],["id","description","formControlName","description1","rows","5",1,"form-control"],[1,"form-group","col-lg-4"],["for","blog_image"],["ngx-dropzone","",1,"custom-dropzone",3,"change","accept"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","removable","file"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Blogs"),t()(),i(9,"h4",8),n(10,"Add Course"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.uploadImage(o.myForm)}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Course Title ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",12),n(23,"Course Skill ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"input",15),t(),i(28,"div",11)(29,"label",12),n(30,"Course Duration ( "),i(31,"span",13),n(32,"required *"),t(),n(33,")"),t(),m(34,"input",16),t(),i(35,"div",11)(36,"label",17),n(37,"Blog Heading 1( "),i(38,"span",13),n(39,"required *"),t(),n(40,")"),t(),m(41,"textarea",18),i(42,"p",13),n(43,"Max Character Count : 1500 Character"),t()(),i(44,"div",11)(45,"label",17),n(46,"Blog Heading 2( "),i(47,"span",13),n(48,"required *"),t(),n(49,")"),t(),m(50,"textarea",19),i(51,"p",13),n(52,"Max Character Count : 1500 Character"),t()(),i(53,"div",11)(54,"label",17),n(55,"Blog Heading 3( "),i(56,"span",13),n(57,"required *"),t(),n(58,")"),t(),m(59,"textarea",20),i(60,"p",13),n(61,"Max Character Count : 1500 Character"),t()(),i(62,"div",11)(63,"label",17),n(64,"Blog Description 1( "),i(65,"span",13),n(66,"required *"),t(),n(67,")"),t(),m(68,"textarea",21),i(69,"p",13),n(70,"Max Character Count : 1500 Character"),t()(),i(71,"div",11)(72,"label",17),n(73,"Blog Description 2( "),i(74,"span",13),n(75,"required *"),t(),n(76,")"),t(),m(77,"textarea",22),i(78,"p",13),n(79,"Max Character Count : 1500 Character"),t()(),i(80,"div",11)(81,"label",17),n(82,"Blog Description 3( "),i(83,"span",13),n(84,"required *"),t(),n(85,")"),t(),m(86,"textarea",23),i(87,"p",13),n(88,"Max Character Count : 1500 Character"),t()(),i(89,"div",24)(90,"label",25),n(91,"Blog Image ( "),i(92,"span",13),n(93,"required *"),t(),n(94,")"),t(),i(95,"div",26),u("change",function(s){return o.onSelect(s)}),i(96,"ngx-dropzone-label"),n(97,"Drag and drop an image here, or click to select an image"),t(),x(98,hn,1,2,"ngx-dropzone-image-preview",27),t(),m(99,"br"),t(),m(100,"hr"),i(101,"div",28)(102,"button",29),n(103,"Add"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm),c(83),f("accept","image/*"),c(3),f("ngForOf",o.image))},dependencies:[w,M,at,ot,lt,z,A,T,V,$,G],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #007bff;border-radius:6px;padding:30px;text-align:center;background-color:#f8f9fa;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,box-shadow .3s ease}.dropzone[_ngcontent-%COMP%]:hover{background-color:#e2e6ea;box-shadow:0 8px 16px #0000004d}.dropzone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#007bff}.dropzone[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center}.preview-image[_ngcontent-%COMP%]{max-width:25%;max-height:25%;border-radius:6px;box-shadow:0 2px 4px #0000001a}.btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};function bn(l,r){if(l&1&&(i(0,"div",31),m(1,"img",32),t()),l&2){let e=g();c(),f("src",e.selectedCourse.image.startsWith("http")||e.selectedCourse.image.startsWith("/")?e.selectedCourse.image:e.env+"/"+e.selectedCourse.image,oe)}}function _n(l,r){if(l&1){let e=v();i(0,"ngx-dropzone-image-preview",33),u("removed",function(){let a=h(e).$implicit,s=g();return b(s.onRemove(a))}),t()}if(l&2){let e=r.$implicit;f("removable",!0)("file",e)}}var ct=class l{constructor(r,e,o,a,s){this._courseService=r;this.fb=e;this.fileServ=o;this.router=a;this.route=s;this.myForm=this.fb.group({image:[null,d.required],title:["",d.required],skill:["",d.required],duration:["",d.required],heading:["",d.required],heading0:["",d.required],heading1:["",d.required],description:["",d.required],description0:["",d.required],description1:["",d.required]})}env=S.url;selectedCourse={};myForm;image=[];ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r?this.fetchCourseById(r):(console.error("course ID is undefined on initialization"),alert("Error: course ID is undefined on initialization"))}fetchCourseById(r){this._courseService.get(`courses/${r}`,{}).subscribe(e=>{e&&e.data&&e.data._id?(this.selectedCourse=e.data,this.selectedCourse.image&&!this.selectedCourse.image.startsWith("http")&&(this.selectedCourse.image=this.selectedCourse.image.replace(/\\/g,"/")),console.log("Selected Course Image:",this.selectedCourse.image),this.populateForm()):(console.error("course data does not contain an _id:",e),alert("Error: course data is missing an ID."))},e=>{console.error(`Error fetching course with ID ${r}:`,e),alert(`Error fetching course: ${e.message}`)})}populateForm(){this.myForm.patchValue({title:this.selectedCourse.title,skill:this.selectedCourse.skill,duration:this.selectedCourse.duration,heading:this.selectedCourse.heading,heading0:this.selectedCourse.heading0,heading1:this.selectedCourse.heading1,description:this.selectedCourse.description,description0:this.selectedCourse.description0,description1:this.selectedCourse.description1,image:null})}handleFileInput(r){this.selectedCourse.image=r.target.files[0]}onSelect(r){let e=r.addedFiles[0];e&&(this.image=[e],this.myForm.patchValue({image:e}),this.myForm.get("image")?.updateValueAndValidity())}onRemove(r){this.image.includes(r)&&(this.image=[],this.myForm.patchValue({image:null}),this.myForm.get("image")?.updateValueAndValidity())}uploadImage(){if(this.image.length===0&&!this.selectedCourse.image){alert("Please select an image");return}this.selectedCourse.title=this.myForm.value.title,this.selectedCourse.skill=this.myForm.value.skill,this.selectedCourse.duration=this.myForm.value.duration,this.selectedCourse.heading=this.myForm.value.heading,this.selectedCourse.heading0=this.myForm.value.heading0,this.selectedCourse.heading1=this.myForm.value.heading1,this.selectedCourse.description=this.myForm.value.description,this.selectedCourse.description0=this.myForm.value.description0,this.selectedCourse.description1=this.myForm.value.description1,this.image.length>0?this.fileServ.uploadFile(this.image[0]).subscribe(r=>{if(r.type===k.Response){let e=r.body;if(e&&e.file&&e.file.path){let o=e.file.path.replace(/\\/g,"/");this.selectedCourse.image=o,this.updateCourse()}else console.error("Image upload response does not contain a valid path"),alert("Error: Image upload failed.")}},r=>{console.error("Error uploading image:",r),alert(`Error uploading image: ${r.message}`)}):this.updateCourse()}updateCourse(){this._courseService.put("courses",this.selectedCourse._id,this.selectedCourse).subscribe(()=>{alert("Course updated successfully"),this.router.navigate(["/admin/courses"])},r=>{console.error("Error updating Course:",r),alert(`Error updating Course: ${r.message}`)})}static \u0275fac=function(e){return new(e||l)(p(Pe),p(I),p(F),p(N),p(xe))};static \u0275cmp=y({type:l,selectors:[["app-edit-courses"]],decls:105,vars:4,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/courses",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","course_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","title","formControlName","title","required","",1,"form-control"],["type","text","id","skill","formControlName","skill","required","",1,"form-control"],["type","text","id","duration","formControlName","duration","required","",1,"form-control"],["for","description"],["id","description","formControlName","heading","rows","5","required","",1,"form-control"],["id","description","formControlName","heading0","rows","5","required","",1,"form-control"],["id","description","formControlName","heading1","rows","5","required","",1,"form-control"],["id","description","formControlName","description","rows","5","required","",1,"form-control"],["id","description","formControlName","description0","rows","5","required","",1,"form-control"],["id","description","formControlName","description1","rows","5","required","",1,"form-control"],["class","preview-image",4,"ngIf"],[1,"form-group","col-lg-4"],["for","image"],["ngx-dropzone","",1,"custom-dropzone",3,"change","accept"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removable","file","removed",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"],[1,"preview-image"],["alt","Current Blog Image",2,"width","200px","height","200px",3,"src"],["ngProjectAs","ngx-dropzone-preview",5,["ngx-dropzone-preview"],3,"removed","removable","file"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Courses"),t()(),i(9,"h4",8),n(10,"Edit Course"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.uploadImage()}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Course Name ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",12),n(23,"Course Skill ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"input",15),t(),i(28,"div",11)(29,"label",12),n(30,"Course Duration ( "),i(31,"span",13),n(32,"required 3 Months*"),t(),n(33,")"),t(),m(34,"input",16),t(),i(35,"div",11)(36,"label",17),n(37,"Course Heading 1( "),i(38,"span",13),n(39,"required *"),t(),n(40,")"),t(),m(41,"textarea",18),i(42,"p",13),n(43,"Max Character Count: 600 Characters"),t()(),i(44,"div",11)(45,"label",17),n(46,"Course Heading 2( "),i(47,"span",13),n(48,"required *"),t(),n(49,")"),t(),m(50,"textarea",19),i(51,"p",13),n(52,"Max Character Count: 600 Characters"),t()(),i(53,"div",11)(54,"label",17),n(55,"Course Heading 3( "),i(56,"span",13),n(57,"required *"),t(),n(58,")"),t(),m(59,"textarea",20),i(60,"p",13),n(61,"Max Character Count: 600 Characters"),t()(),i(62,"div",11)(63,"label",17),n(64,"Course Description 1( "),i(65,"span",13),n(66,"required *"),t(),n(67,")"),t(),m(68,"textarea",21),i(69,"p",13),n(70,"Max Character Count: 600 Characters"),t()(),i(71,"div",11)(72,"label",17),n(73,"Course Description 2( "),i(74,"span",13),n(75,"required *"),t(),n(76,")"),t(),m(77,"textarea",22),i(78,"p",13),n(79,"Max Character Count: 600 Characters"),t()(),i(80,"div",11)(81,"label",17),n(82,"Course Description 3( "),i(83,"span",13),n(84,"required *"),t(),n(85,")"),t(),m(86,"textarea",23),i(87,"p",13),n(88,"Max Character Count: 600 Characters"),t()(),x(89,bn,2,1,"div",24),i(90,"div",25)(91,"label",26),n(92,"Course Cover Image ( "),i(93,"span",13),n(94,"Change Image If Required *"),t(),n(95,")"),t(),i(96,"div",27),u("change",function(s){return o.onSelect(s)}),i(97,"ngx-dropzone-label"),n(98,"Drag and drop an image here, or click to select an image"),t(),x(99,_n,1,2,"ngx-dropzone-image-preview",28),t(),m(100,"br"),t(),m(101,"hr"),i(102,"div",29)(103,"button",30),n(104,"Update"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm),c(77),f("ngIf",o.selectedCourse.image),c(7),f("accept","image/*"),c(3),f("ngForOf",o.image))},dependencies:[w,ae,M,at,ot,lt,z,A,T,V,ye,$,G],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var mt=class l{constructor(r,e,o,a){this.carriersService=r;this.fb=e;this.as=o;this.route=a;this.myForm=this.fb.group({jobTitle:["",d.required],jobRole:["",d.required],jobDuration:["",d.required],jobLocation:["",d.required],jobSkills:["",d.required],jobExperience:["",d.required],jobType:["",d.required],jobPreference:["",d.required],jobDescription:["",d.required],jobSalary:["",d.required]})}myForm;isLoading=!1;image=[];ngOnInit(){}onSubmit(r){r.valid&&(this.isLoading=!0,this.carriersService.post("carriers",r.value).subscribe(e=>{this.isLoading=!1,e?(this.route.navigate(["/admin/carriers"]),this.as.successToast("Carriers created successfully!")):this.as.warningToast(e.error.message)},e=>{this.isLoading=!1,this.as.errorToast(e.message)}))}static \u0275fac=function(e){return new(e||l)(p(Te),p(I),p(ve),p(N))};static \u0275cmp=y({type:l,selectors:[["app-add-carrier"]],decls:102,vars:1,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/carriers",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","blog_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","tijobTitletle","formControlName","jobTitle",1,"form-control"],["type","text","id","jobRole","formControlName","jobRole",1,"form-control"],["type","text","id","jobDuration","formControlName","jobDuration",1,"form-control"],["for","description"],["type","text","id","jobLocation","formControlName","jobLocation",1,"form-control"],["type","text","id","jobSkills","formControlName","jobSkills",1,"form-control"],["type","text","id","jobExperience","formControlName","jobExperience",1,"form-control"],["type","text","formControlName","jobType","id","jobType",1,"form-control"],["value","Full Time"],["value","Part Time"],["value","Contract"],["type","text","formControlName","jobPreference","id","jobPreference",1,"form-control"],["value","Work from Home"],["value","Work From Office"],["value","Hybrid"],["id","description","formControlName","jobDescription","rows","5",1,"form-control"],["type","text","id","jobSalary","formControlName","jobSalary",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"Job List"),t()(),i(9,"h4",8),n(10,"Add Job"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.onSubmit(o.myForm)}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Job Title ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",12),n(23,"JOb Role ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"input",15),t(),i(28,"div",11)(29,"label",12),n(30,"JOb Duration ( "),i(31,"span",13),n(32,"required *"),t(),n(33,")"),t(),m(34,"input",16),t(),i(35,"div",11)(36,"label",17),n(37,"JOb Location ( "),i(38,"span",13),n(39,"required *"),t(),n(40,")"),t(),m(41,"input",18),t(),i(42,"div",11)(43,"label",17),n(44,"JOb Skills ( "),i(45,"span",13),n(46,"required *"),t(),n(47,")"),t(),m(48,"input",19),t(),i(49,"div",11)(50,"label",17),n(51,"JOb Experience ( "),i(52,"span",13),n(53,"required *"),t(),n(54,")"),t(),m(55,"input",20),t(),i(56,"div",11)(57,"label",17),n(58,"JOb Type( "),i(59,"span",13),n(60,"required *"),t(),n(61,")"),t(),i(62,"select",21)(63,"option",22),n(64,"Full Time"),t(),i(65,"option",23),n(66,"Part Time"),t(),i(67,"option",24),n(68,"Contract"),t()()(),i(69,"div",11)(70,"label",17),n(71,"JOb Preference( "),i(72,"span",13),n(73,"required *"),t(),n(74,")"),t(),i(75,"select",25)(76,"option",26),n(77,"Work from Home"),t(),i(78,"option",27),n(79,"Work From Office"),t(),i(80,"option",28),n(81,"Hybrid"),t()()(),i(82,"div",11)(83,"label",17),n(84,"JOb Description( "),i(85,"span",13),n(86,"required *"),t(),n(87,")"),t(),m(88,"textarea",29),i(89,"p",13),n(90,"Max Character Count : 1500 Character"),t()(),i(91,"div",11)(92,"label",17),n(93,"JOb Salary ( "),i(94,"span",13),n(95,"required *"),t(),n(96,")"),t(),m(97,"input",30),t(),m(98,"hr"),i(99,"div",31)(100,"button",32),n(101,"Add"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm))},dependencies:[M,z,H,W,A,Lt,T,V,$,G],styles:[".dropzone[_ngcontent-%COMP%]{border:2px dashed #007bff;border-radius:6px;padding:30px;text-align:center;background-color:#f8f9fa;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,box-shadow .3s ease}.dropzone[_ngcontent-%COMP%]:hover{background-color:#e2e6ea;box-shadow:0 8px 16px #0000004d}.dropzone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;color:#007bff}.dropzone[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center}.preview-image[_ngcontent-%COMP%]{max-width:25%;max-height:25%;border-radius:6px;box-shadow:0 2px 4px #0000001a}.btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var dt=class l{constructor(r,e,o,a){this.carriersService=r;this.fb=e;this.router=o;this.route=a;this.myForm=this.fb.group({jobTitle:["",d.required],jobRole:["",d.required],jobDuration:["",d.required],jobLocation:["",d.required],jobSkills:["",d.required],jobExperience:["",d.required],jobType:["",d.required],jobPreference:["",d.required],jobDescription:["",d.required],jobSalary:["",d.required]})}env=S.url;selectedCarriers={};myForm;image=[];ngOnInit(){let r=this.route.snapshot.paramMap.get("id");r?this.fetchCarriersById(r):(console.error("Carriers ID is undefined on initialization"),alert("Error: Carriers ID is undefined on initialization"))}fetchCarriersById(r){this.carriersService.get(`carriers/${r}`,{}).subscribe(e=>{e&&e.data&&e.data._id?(this.selectedCarriers=e.data,this.populateForm()):(console.error("Carriers data does not contain an _id:",e),alert("Error: Carriers data is missing an ID."))},e=>{console.error(`Error fetching Carriers with ID ${r}:`,e),alert(`Error fetching Carriers: ${e.message}`)})}populateForm(){this.myForm.patchValue({jobTitle:this.selectedCarriers.jobTitle,jobRole:this.selectedCarriers.jobRole,jobDuration:this.selectedCarriers.jobDuration,jobLocation:this.selectedCarriers.jobLocation,jobSkills:this.selectedCarriers.jobSkills,jobExperience:this.selectedCarriers.jobExperience,jobType:this.selectedCarriers.jobType,jobPreference:this.selectedCarriers.jobPreference,jobDescription:this.selectedCarriers.jobDescription,jobSalary:this.selectedCarriers.jobSalary})}updateCarriers(){this.selectedCarriers.jobTitle=this.myForm.value.jobTitle,this.selectedCarriers.jobRole=this.myForm.value.jobRole,this.selectedCarriers.jobDuration=this.myForm.value.jobDuration,this.selectedCarriers.jobLocation=this.myForm.value.jobLocation,this.selectedCarriers.jobSkills=this.myForm.value.jobSkills,this.selectedCarriers.jobExperience=this.myForm.value.jobExperience,this.selectedCarriers.jobType=this.myForm.value.jobType,this.selectedCarriers.jobPreference=this.myForm.value.jobPreference,this.selectedCarriers.jobDescription=this.myForm.value.jobDescription,this.selectedCarriers.jobSalary=this.myForm.value.jobSalary,this.carriersService.put("carriers",this.selectedCarriers._id,this.selectedCarriers).subscribe(()=>{alert("Career updated successfully"),this.router.navigate(["/admin/carriers"])},r=>{console.error("Error updating Career:",r),alert(`Error updating Career: ${r.message}`)})}static \u0275fac=function(e){return new(e||l)(p(Te),p(I),p(N),p(xe))};static \u0275cmp=y({type:l,selectors:[["app-edit-carrier"]],decls:90,vars:1,consts:[[1,"content-page"],[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-12"],[1,"page-title-box"],[1,"page-title-right"],["routerLink","/carriers",1,"btn","btn-primary","btn-sm"],[1,"page-title"],[1,"container"],["id","course_form",3,"ngSubmit","formGroup"],[1,"form-group","col-lg-12"],["for","title"],[1,"text-danger"],["type","text","id","tijobTitletle","formControlName","jobTitle",1,"form-control"],["type","text","id","jobRole","formControlName","jobRole",1,"form-control"],["type","text","id","jobDuration","formControlName","jobDuration",1,"form-control"],["for","description"],["type","text","id","jobLocation","formControlName","jobLocation",1,"form-control"],["type","text","id","jobSkills","formControlName","jobSkills",1,"form-control"],["type","text","id","jobExperience","formControlName","jobExperience",1,"form-control"],["type","text","id","jobType","formControlName","jobType",1,"form-control"],["type","text","id","jobPreference","formControlName","jobPreference",1,"form-control"],["id","description","formControlName","jobDescription","rows","5",1,"form-control"],["type","text","id","jobSalary","formControlName","jobSalary",1,"form-control"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7),n(8,"JOb"),t()(),i(9,"h4",8),n(10,"Edit JOb"),t()()()(),i(11,"div",9)(12,"form",10),u("ngSubmit",function(){return o.updateCarriers()}),i(13,"div",3)(14,"div",11)(15,"label",12),n(16,"Job Title ( "),i(17,"span",13),n(18,"required *"),t(),n(19,")"),t(),m(20,"input",14),t(),i(21,"div",11)(22,"label",12),n(23,"JOb Role ( "),i(24,"span",13),n(25,"required *"),t(),n(26,")"),t(),m(27,"input",15),t(),i(28,"div",11)(29,"label",12),n(30,"JOb Duration ( "),i(31,"span",13),n(32,"required *"),t(),n(33,")"),t(),m(34,"input",16),t(),i(35,"div",11)(36,"label",17),n(37,"JOb Location ( "),i(38,"span",13),n(39,"required *"),t(),n(40,")"),t(),m(41,"input",18),t(),i(42,"div",11)(43,"label",17),n(44,"JOb Skills ( "),i(45,"span",13),n(46,"required *"),t(),n(47,")"),t(),m(48,"input",19),t(),i(49,"div",11)(50,"label",17),n(51,"JOb Experience ( "),i(52,"span",13),n(53,"required *"),t(),n(54,")"),t(),m(55,"input",20),t(),i(56,"div",11)(57,"label",17),n(58,"JOb Type( "),i(59,"span",13),n(60,"required *"),t(),n(61,")"),t(),m(62,"input",21),t(),i(63,"div",11)(64,"label",17),n(65,"JOb Preference( "),i(66,"span",13),n(67,"required *"),t(),n(68,")"),t(),m(69,"input",22),t(),i(70,"div",11)(71,"label",17),n(72,"JOb Description( "),i(73,"span",13),n(74,"required *"),t(),n(75,")"),t(),m(76,"textarea",23),i(77,"p",13),n(78,"Max Character Count : 1500 Character"),t()(),i(79,"div",11)(80,"label",17),n(81,"JOb Salary ( "),i(82,"span",13),n(83,"required *"),t(),n(84,")"),t(),m(85,"input",24),t(),m(86,"hr"),i(87,"div",25)(88,"button",26),n(89,"Update"),t()()()()()()()()),e&2&&(c(12),f("formGroup",o.myForm))},dependencies:[M,z,A,T,V,$,G],styles:[".btn[_ngcontent-%COMP%]{color:#000;background:#fcdb38;border:none}.btn[_ngcontent-%COMP%]:hover{color:#fff;background:#0399fa}.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.25rem;margin:0;line-height:75px;color:#323a46}.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{float:right;margin-top:22px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{padding-top:5px}@media (max-width: 767.98px){.page-title-box[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;line-height:70px}.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media (max-width: 640px){.page-title-box[_ngcontent-%COMP%]   .page-title-right[_ngcontent-%COMP%]{display:none}}@media (max-width: 419px){.page-title-box[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:none}}@media print{.footer[_ngcontent-%COMP%], .left-side-menu[_ngcontent-%COMP%], .navbar-custom[_ngcontent-%COMP%], .page-title-box[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%]{display:none}.card-body[_ngcontent-%COMP%], .content[_ngcontent-%COMP%], .content-page[_ngcontent-%COMP%], .right-bar[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{padding:0;margin:0}}"]})};var Cn=[{path:"dashboard",component:We,canActivate:[j]},{path:"projects",component:Ue,canActivate:[j]},{path:"projects/add-project",component:Je,canActivate:[j]},{path:"projects/edit-project/:id",component:Ze,canActivate:[j]},{path:"query",component:et,canActivate:[j]},{path:"course-query",component:tt,canActivate:[j]},{path:"carrier-query",component:it,canActivate:[j]},{path:"courses",component:rt,canActivate:[j]},{path:"courses/add-courses",component:st,canActivate:[j]},{path:"courses/edit-courses/:id",component:ct,canActivate:[j]},{path:"carriers",component:nt,canActivate:[j]},{path:"carriers/add-carrier",component:mt,canActivate:[j]},{path:"carriers/edit-carrier/:id",component:dt,canActivate:[j]},{path:"blogs",component:Ye,canActivate:[j]},{path:"blogs/add-blog",component:Xe,canActivate:[j]},{path:"blogs/edit-blog/:id",component:Ke,canActivate:[j]}],pt=class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=_e({type:l});static \u0275inj=be({imports:[ht.forChild(Cn),ht]})};var ii=class l{static \u0275fac=function(e){return new(e||l)};static \u0275mod=_e({type:l});static \u0275inj=be({imports:[Ae,pt,Gt,Ut,ei,Rt,qt]})};export{ii as AdmincomponentModule};
