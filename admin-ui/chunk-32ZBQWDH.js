import{a as w,b as L}from"./chunk-ALPS34IQ.js";import{b as F}from"./chunk-PO5Q2ATW.js";import{$ as f,Aa as v,Ab as C,Bb as y,Cb as k,D as d,Db as l,Eb as x,Fb as E,H as p,I as u,Jb as M,La as a,Lb as N,Nb as j,Rb as P,Sb as T,Tb as A,Ub as I,aa as r,ha as g,jb as h,qa as o,ra as i,sa as m,yb as S,zb as b}from"./chunk-VTM3PV2E.js";var s=class n{constructor(e,t,c,_,q){this.fb=e;this.authService=t;this.tokenService=c;this.router=_;this.alertService=q;this.loginForm=this.fb.group({email:["",[l.required,l.email]],password:["",l.required]})}loginForm;isLoading=!1;files=[];submit(){this.loginForm.valid&&(this.isLoading=!0,this.authService.login(this.loginForm.value).subscribe({next:e=>{this.isLoading=!1,e?(this.tokenService.setToken(e.token,e.token),this.tokenService.setUser(e.user),this.router.navigate(["/admin/dashboard"]),alert("Login Successfully"),this.alertService.successToast("Login Successfully")):this.alertService.errorToast("Invalid Credentials")},error:e=>{this.isLoading=!1,console.error("Login error:",e),this.alertService.errorToast("Server connection failed. Please try again later.")}}))}static \u0275fac=function(t){return new(t||n)(r(T),r(L),r(F),r(S),r(w))};static \u0275cmp=p({type:n,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"account-pages"],[1,"container"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","shadow-sm"],[1,"card-body","p-4"],[1,"text-center","w-75","m-auto"],["routerLinkActive","active","routerLink","/login"],["src","assets/images/logo.webp","alt","Task Hive Logo","height","200","width","250",1,"img-fluid","object-fit-contain"],[1,"text-muted","mb-4","mt-3"],["accept-charset","utf-8",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","loginEmail",1,"form-label"],["id","loginEmail","formControlName","email","type","email","placeholder","User name / Email","required","",1,"form-control"],["for","loginPassword",1,"form-label"],["id","loginPassword","formControlName","password","type","password","placeholder","Password","required","",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary"]],template:function(t,c){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"a",7)(8,"span"),m(9,"img",8),i()(),o(10,"p",9),a(11,"Enter your email address and password to access admin panel."),i()(),o(12,"form",10),v("ngSubmit",function(){return c.submit()}),o(13,"div",11)(14,"label",12),a(15,"Email/Username:"),i(),m(16,"input",13),i(),o(17,"div",11)(18,"label",14),a(19,"Password:"),i(),m(20,"input",15),i(),o(21,"div",16)(22,"button",17),a(23,"Log In"),i()()()()()()()()()),t&2&&(f(12),g("formGroup",c.loginForm))},dependencies:[M,k,x,E,P,N,j,b,C],styles:[".account-pages[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center}.object-fit-contain[_ngcontent-%COMP%]{object-fit:contain}@media (max-width: 767.98px){.account-pages[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:1rem}.text-center.w-75[_ngcontent-%COMP%]{width:100%!important}}"]})};var R=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=u({type:n});static \u0275inj=d({imports:[h,I,A,y.forChild([{path:"",component:s}])]})};export{R as LoginModule};
